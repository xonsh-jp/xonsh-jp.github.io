<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" class="medium-up-screen translated-ltr"><head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>チュートリアル -  xonsh 0.8.5 documentation</title>
    <link rel="stylesheet" href="_static/numpy_friendly.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="_static/cloud.base.js"></script>
    <script type="text/javascript" src="_static/cloud.js"></script>
    <link rel="shortcut icon" href="_static/magic_conch.ico" />
    <link rel="index" title="インデックス" href="genindex.html" />
    <link rel="search" title="サーチ" href="search.html" />
    <link rel="next" title="チュートリアル：履歴" href="tutorial_hist.html" />
    <link rel="prev" title="引用" href="quotes.html" />
     
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="canonical" href="http://xon.sh/tutorial.html" />

  <link type="text/css" rel="stylesheet" charset="UTF-8" href="https://translate.googleapis.com/translate_static/css/translateelement.css" /></head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ナビゲーション</font></font></h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="一般索引" accesskey="I"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引</font></font></a></li>
        <li class="right">
          <a href="py-modindex.html" title="Pythonモジュールのインデックス"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール</font></font></a>    </li>
        <li class="right">
          <a href="tutorial_hist.html" title="チュートリアル：履歴" accesskey="N"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次</font></font></a>    </li>
        <li class="right">
          <a href="quotes.html" title="引用" accesskey="P"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前</font></font></a>    </li>
    <li><a href="sidebar.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonsh 0.8.5 documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshシェル</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial">
<span id="id1"></span><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チュートリアル</font></font><a class="headerlink" href="#tutorial" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshはシェル言語とコマンドプロンプトです。</font><font style="vertical-align: inherit;">他のシェルとは異なり、xonshはPythonをベースにしており、サブプロセスコマンドの呼び出し、環境の操作、ファイルシステムの処理を容易にする構文が追加されています。</font><font style="vertical-align: inherit;">xonshコマンド・プロンプトは、ユーザーにxonsh言語への対話式アクセスを提供します。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのPythonコードもxonshですが、すべてのBashコードをxonshで使用できるわけではありません。</font><font style="vertical-align: inherit;">それは目的を破るだろうし、とにかくPythonは優れている！</font><font style="vertical-align: inherit;">それでもxonshは、コマンドの実行、Bash環境での読み込み、Bashタブ補完の利用など、重要な点でBash-wards互換です。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このチュートリアルの目的は、あなたにxonshを教えることです。</font><font style="vertical-align: inherit;">Pythonを学ぶための優れたガイドがたくさんありますが、これは彼らのランクには参加しません。</font><font style="vertical-align: inherit;">同様に、既にコマンドプロンプトまたはインタラクティブなインタプリタを使用している場合は、このチュートリアルを最大限に活用できます。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中に潜んでみましょう！</font></font></p>
<div class="section" id="starting-xonsh">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshの起動</font></font><a class="headerlink" href="#starting-xonsh" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonsh（</font></font><a class="reference external" href="http://xon.sh"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://xon.shを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">が正常にインストールされていると仮定すると</font><font style="vertical-align: inherit;">、xonshインタープリターを</font></font><code class="docutils literal notranslate"><span class="pre">xonsh</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドで</font><font style="vertical-align: inherit;">起動することができます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">あなたがより小さい端末にいると仮定してください：</font></font></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> xonsh
<span class="gp">snail@home ~ $</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今私たちはxonshシェルにいます。</font><font style="vertical-align: inherit;">私たちのユーザ名はまるで</font></font><code class="docutils literal notranslate"><span class="pre">snail</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちのホスト名</font></font><code class="docutils literal notranslate"><span class="pre">home</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">であり、ホームディレクトリ（</font></font><code class="docutils literal notranslate"><span class="pre">~</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）にあります。</font><font style="vertical-align: inherit;">あるいは、ターミナルエミュレータ（xterm、gnome-terminalなど）が起動時にxonshを自動的に実行するように設定することもできます。</font><font style="vertical-align: inherit;">これはお勧めです。</font></font></p>
</div>
<div class="section" id="basics">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本</font></font><a class="headerlink" href="#basics" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonsh言語はPythonに基づいており、xonshシェルはPythonを使用してそれが受け取るすべての入力を解釈します。</font><font style="vertical-align: inherit;">これは算術のような単純なものを単純にします：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="go"></span>
<span class="go">2</span>
</pre></div>
</div>
<div class="admonition note inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここから</font></font><code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、xonsh入力の接頭辞（またはプロンプト）</font><font style="vertical-align: inherit;">を使用</font><font style="vertical-align: inherit;">します。</font><font style="vertical-align: inherit;">これはPythonの規約に従い、シンタックスハイライトをトリックするのに役立ちますが、</font></font><code class="docutils literal notranslate"><span class="pre">$</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シェルにとってはより伝統的です。</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは単なるPythonなので、モジュールをインポートしたり、値を出力したり、Pythonの他の組み込み関数を使うことができます：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">)</span><span class="go"></span>
<span class="go">3.4.2 |Continuum Analytics, Inc.| (default, Oct 21 2014, 17:16:37)</span>
<span class="go">[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また、int、float、リスト、セット、辞書などのリテラルデータ型を作成して使用することもできます。</font><font style="vertical-align: inherit;">あなたが既にPythonを知っているなら、あなたが慣れ親しんでいることはすべてそこにあります：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'xonsh'</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'bash'</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span><span class="go"></span>
<span class="go">False</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshシェルは、より高度なフロー制御のための複数行入力もサポートしています。</font><font style="vertical-align: inherit;">マルチラインモードは、入力の最初の行が単独で構文的に有効でないときは常に自動的に入力されます。</font><font style="vertical-align: inherit;">カーソルが最初の列にあるときにEnter（またはReturn）を押すと、複数行モードが終了します。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="bp">True</span><span class="p">:</span><span class="gp"></span>
<span class="gp">...</span>     <span class="k">print</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="gp"></span>
<span class="gp">...</span> <span class="k">else</span><span class="p">:</span><span class="gp"></span>
<span class="gp">...</span>     <span class="k">print</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="gp"></span>
<span class="gp">...</span><span class="go"></span>
<span class="go">1</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もちろん、フロー制御にはループも含まれます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="s1">'xonsh'</span><span class="p">):</span><span class="gp"></span>
<span class="gp">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span><span class="gp"></span>
<span class="gp">...</span><span class="go"></span>
<span class="go">0 x</span>
<span class="go">1 o</span>
<span class="go">2 n</span>
<span class="go">3 s</span>
<span class="go">4 h</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数とクラスを定義して呼び出すこともできます。</font><font style="vertical-align: inherit;">私はあなたに細部を惜しみませんが、これ</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">かなりクールです：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span><span class="gp"></span>
<span class="gp">...</span>     <span class="k">return</span> <span class="s2">"xonsh"</span><span class="gp"></span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">()</span><span class="go"></span>
<span class="go">'xonsh'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インデントを簡単にするために、Shift + Tabは4つのスペースを入力します。</font><font style="vertical-align: inherit;">そして、それについては基本セクションのためにまとめます。</font><font style="vertical-align: inherit;">これはPythonのようなものです。</font></font></p>
</div>
<div class="section" id="environment-variables">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境変数</font></font><a class="headerlink" href="#environment-variables" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境変数は</font></font><code class="docutils literal notranslate"><span class="pre">$</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、名前の後ろに</font><font style="vertical-align: inherit;">記述され</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">たとえば、
 </font></font><code class="docutils literal notranslate"><span class="pre">$HOME</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code class="docutils literal notranslate"><span class="pre">$PWD</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、と</font></font><code class="docutils literal notranslate"><span class="pre">$PATH</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nv">$HOME</span><span class="go"></span>
<span class="go">'/home/snail'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonで他の変数を設定する場合と同様に、環境変数を設定（およびエクスポート）することができます。</font><font style="vertical-align: inherit;">それらも削除しても同じことが言えます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nv">$GOAL</span> <span class="o">=</span> <span class="s1">'Become the Lord of the Files'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="nv">$GOAL</span><span class="p">)</span><span class="go"></span>
<span class="go">Become the Lord of the Files</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">del</span> <span class="nv">$GOAL</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非常に素晴らしい。</font></font></p>
<div class="section" id="the-environment-itself">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境そのもの</font></font><code class="docutils literal notranslate"><span class="pre">${...}</span></code><a class="headerlink" href="#the-environment-itself" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての環境変数は、組み込み</font></font><code class="docutils literal notranslate"><span class="pre">${...}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（別名</font></font><code class="docutils literal notranslate"><span class="pre">__xonsh__.env</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）マッピングで使用されます。</font><font style="vertical-align: inherit;">このマッピングには直接アクセスすることができますが、ほとんどの場合、必要はありません。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あなたの現在のセッションに環境変数が存在するかどうか（例えば素晴らしい</font></font><code class="docutils literal notranslate"><span class="pre">xonsh</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプト</font><font style="vertical-align: inherit;">内にあるかどうか）を確認する場合は</font><font style="vertical-align: inherit;">、メンバーシップ演算子を使用できます：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">'HOME'</span> <span class="ow">in</span> <span class="k">$</span><span class="p">{</span><span class="o">...</span><span class="p">}</span><span class="go"></span>
<span class="go">True</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定の環境変数に関する情報を取得するには、この</font></font><a class="reference internal" href="api/environ.html#xonsh.environ.Env.help" title="xonsh.environ.Env.help"><code class="xref py py-func docutils literal notranslate"><span class="pre">help()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><font style="vertical-align: inherit;">を使用できます
 </font><font style="vertical-align: inherit;">。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">$</span><span class="p">{</span><span class="o">...</span><span class="p">}</span><span class="o">.</span><span class="n">help</span><span class="p">(</span><span class="s1">'XONSH_DEBUG'</span><span class="p">)</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その上で役に立つ方法の一つ</font></font><code class="docutils literal notranslate"><span class="pre">${...}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です</font></font><a class="reference internal" href="api/environ.html#xonsh.environ.Env.swap" title="xonsh.environ.Env.swap"><code class="xref py py-func docutils literal notranslate"><span class="pre">swap()</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">環境変数を一時的に設定するために使用することができます：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="k">$</span><span class="p">{</span><span class="o">...</span><span class="p">}</span><span class="o">.</span><span class="n">swap</span><span class="p">(</span><span class="n">SOMEVAR</span><span class="o">=</span><span class="s1">'foo'</span><span class="p">):</span><span class="gp"></span>
<span class="gp">...</span>     <span class="n">echo</span> <span class="nv">$SOMEVAR</span><span class="gp"></span>
<span class="gp">...</span>
<span class="gp">...</span><span class="go"></span>
<span class="go">foo</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">echo</span> <span class="nv">$SOMEVAR</span><span class="go"></span>

<span class="gp">&gt;&gt;&gt;</span><span class="go"></span>
</pre></div>
</div>
</div>
<div class="section" id="environment-lookup-with-expr">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境ルックアップ</font></font><code class="docutils literal notranslate"><span class="pre">${&lt;expr&gt;}</span></code><a class="headerlink" href="#environment-lookup-with-expr" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">$NAME</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ルックアップしたい環境変数の名前を知っている限り、</font><font style="vertical-align: inherit;">これ</font><font style="vertical-align: inherit;">は素晴らしいことです。</font><font style="vertical-align: inherit;">しかし、プログラムで名前を構築したい場合や、別の変数から名前を読みたい場合はどうすればよいでしょうか？</font></font><code class="docutils literal notranslate"><span class="pre">${}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
演算子を</font><font style="vertical-align: inherit;">入力し</font><font style="vertical-align: inherit;">ます。</font></font></p>
<div class="admonition warning inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bashでは</font></font><code class="docutils literal notranslate"><span class="pre">$NAME</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code class="docutils literal notranslate"><span class="pre">${NAME}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構文的に同等です。</font><font style="vertical-align: inherit;">xonshでは、彼らは別の意味を持っています。</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中括弧内に有効なPython式を置くことができます
 </font></font><code class="docutils literal notranslate"><span class="pre">${&lt;expr&gt;}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この式のこの結果は、環境内の値をルックアップするために使用されます。</font><font style="vertical-align: inherit;">実際に動作している例は次のとおりです。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="s1">'USER'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">$</span><span class="p">{</span><span class="n">x</span><span class="p">}</span><span class="go"></span>
<span class="go">'snail'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">$</span><span class="p">{</span><span class="s1">'HO'</span> <span class="o">+</span> <span class="s1">'ME'</span><span class="p">}</span><span class="go"></span>
<span class="go">'/home/snail'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">悪くない、xonsh、悪くない。</font></font></p>
</div>
<div class="section" id="environment-types">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境タイプ</font></font><a class="headerlink" href="#environment-types" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonの他の変数と同様に、環境変数には型があります。</font><font style="vertical-align: inherit;">このタイプは、変数名に基づいて課されることもあります。</font><font style="vertical-align: inherit;">現在のルールは非常にシンプルです：</font></font></p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">\w*PATH</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：名前がPATHで終わる変数はすべて文字列のリストです。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">\w*DIRS</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：DIRSで終わる名前の変数は、文字列のリストです。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">XONSH_HISTORY_SIZE</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：この変数はintです。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">CASE_SENSITIVE_COMPLETIONS</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：この変数はブール値です。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshは必要に応じて（主にサブプロセスコマンドによって）環境の型なしの（文字列のみの）表現に自動的に前後に変換します。</font><font style="vertical-align: inherit;">xonshの場合は、常に型付きのバージョンがあります。</font><font style="vertical-align: inherit;">ここにはPATHの例がいくつかあります：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nv">$PATH</span><span class="go"></span>
<span class="go">['/home/snail/.local/bin', '/home/snail/sandbox/bin',</span>
<span class="go">'/home/snail/miniconda3/bin', '/usr/local/bin', '/usr/local/sbin',</span>
<span class="go">'/usr/bin', '/usr/sbin', '/bin', '/sbin', '.']</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nv">$LD_LIBRARY_PATH</span><span class="go"></span>
<span class="go">['/home/snail/.local/lib', '']</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">またことに注意して</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意の</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pythonオブジェクトは、環境に行くことができます。</font><font style="vertical-align: inherit;">関数のようなより洗練された型を環境に持たせることは時には便利です。</font><font style="vertical-align: inherit;">xonshが特別だと考える環境変数がいくつかあります。</font><font style="vertical-align: inherit;">それらは</font></font><a class="reference external" href="envvars.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境変数ページ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で見ることができ</font><a class="reference external" href="envvars.html"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font></p>
<div class="admonition note inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセスモードでは、未定義の環境変数を参照すると空の文字列が生成されます。</font><font style="vertical-align: inherit;">ただし、Pythonモードでは、</font></font><code class="docutils literal notranslate"><span class="pre">KeyError</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数が環境内に存在しない場合</font><font style="vertical-align: inherit;">は、a
 </font><font style="vertical-align: inherit;">が生成されます。</font></font></p>
</div>
</div>
</div>
<div class="section" id="running-commands">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドの実行</font></font><a class="headerlink" href="#running-commands" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シェルとして、xonshはコマンドを簡単かつ楽しく実行するためのものです。</font><font style="vertical-align: inherit;">サブプロセスコマンドの実行は、他のシェルでも同様に動作します。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span> <span class="s2">"Yoo hoo"</span><span class="go"></span>
<span class="go">Yoo hoo</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">cd</span> <span class="n">xonsh</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span><span class="go"></span>
<span class="go">build  docs     README.rst  setup.py  xonsh           __pycache__</span>
<span class="go">dist   license  scripts     tests     xonsh.egg-info</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">dir</span> <span class="n">scripts</span><span class="go"></span>
<span class="go">xonsh  xonsh.bat</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">git</span> <span class="n">status</span><span class="go"></span>
<span class="go">On branch master</span>
<span class="go">Your branch is up-to-date with 'origin/master'.</span>
<span class="go">Changes not staged for commit:</span>
<span class="go">  (use "git add &lt;file&gt;..." to update what will be committed)</span>
<span class="go">  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span>

<span class="go">    modified:   docs/tutorial.rst</span>

<span class="go">no changes added to commit (use "git add" and/or "git commit -a")</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">exit</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは非常に自然に感じるはずです。</font></font></p>
</div>
<div class="section" id="python-mode-vs-subprocess-mode">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonモードとサブプロセスモード</font></font><a class="headerlink" href="#python-mode-vs-subprocess-mode" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">純粋なPythonモードで動作する行と、シェル固有の構文を使用する行、実行環境を編集する行、およびコマンドを実行する行を区別すると便利なことがあります。</font><font style="vertical-align: inherit;">残念ながら、構文だけでは、どのモードが望ましいかは必ずしも明らかではありません。</font><font style="vertical-align: inherit;">このあいまいさは、ほとんどのコマンドラインユーティリティがPython演算子によく似ていることに起因しています。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の場合を取る</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは有効なPythonコードですが、</font><font style="vertical-align: inherit;">またはで</font><font style="vertical-align: inherit;">記述することもできます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">だから、xonshはそれ</font><font style="vertical-align: inherit;">がサブプロセスモードで実行されることを</font><font style="vertical-align: inherit;">どのように知ってい</font><font style="vertical-align: inherit;">ますか？</font></font><code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-</span> <span class="pre">l</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">ls-l</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての名前が現在の変数として見つからない場合は、式文（expr-stmt、Python ASTのドキュメントを参照してください）のみを含む任意の行に対して、xonshはその行をサブプロセスコマンドとして解析しようとします。</font><font style="vertical-align: inherit;">上記では、場合</font></font><code class="docutils literal notranslate"><span class="pre">ls</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">や</font></font><code class="docutils literal notranslate"><span class="pre">l</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数ではありません、サブプロセスモードが試みられます。</font><font style="vertical-align: inherit;">サブプロセスモードでの解析が失敗すると、その行はPythonモードになります。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の例では、を使用してディレクトリの内容をリストし</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">次に、新しい変数名</font><font style="vertical-align: inherit;">を作成</font><font style="vertical-align: inherit;">してからそれらを減算します。</font><font style="vertical-align: inherit;">最後に、</font><font style="vertical-align: inherit;">ディレクトリ</font><font style="vertical-align: inherit;">を削除</font><font style="vertical-align: inherit;">して</font><font style="vertical-align: inherit;">再度一覧表示できるようにします。</font></font><code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">ls</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">l</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">ls</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">l</span></code><font style="vertical-align: inherit;"></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># this will be in subproc-mode, because ls doesn't exist</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span><span class="go"></span>
<span class="go">total 0</span>
<span class="go">-rw-rw-r-- 1 snail snail 0 Mar  8 15:46 xonsh</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="c1"># set ls and l variables to force python-mode</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span> <span class="o">=</span> <span class="mi">44</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">2</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span><span class="go"></span>
<span class="go">42</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="c1"># deleting ls will return us to subproc-mode</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">del</span> <span class="n">ls</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span><span class="go"></span>
<span class="go">total 0</span>
<span class="go">-rw-rw-r-- 1 snail snail 0 Mar  8 15:46 xonsh</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonとサブプロセスモードの間の決定は、常に可能な限り安全な方法で行われます。</font><font style="vertical-align: inherit;">何かがうまくいかない場合は、Pythonモードになります。</font><font style="vertical-align: inherit;">2つのモードの間の決定は、実行の前に行われます。</font><font style="vertical-align: inherit;">あなたは部分的に実行されたコマンドについて心配する必要はありません。不可能です。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセスコマンドを絶対に実行したい場合は、次のセクションで説明する構文を使用してxonshを強制的に実行させることができます。</font></font></p>
</div>
<div class="section" id="quoting">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用符</font></font><a class="headerlink" href="#quoting" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一重引用符または二重引用符を使用して、特定の文字または単語の特別な意味をxonshに取り除くことができます。</font><font style="vertical-align: inherit;">サブプロセス・コマンドにxonsh構文と衝突する文字が含まれている場合、xonshがそれらを解釈しないようにするには引用符を使用する必要があります。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span> <span class="k">$</span><span class="p">{</span><span class="gp"></span>
<span class="gp">...</span><span class="go"></span>
<span class="go">SyntaxError: &lt;xonsh-code&gt;:1:5: ('code: {',)</span>
<span class="go">echo ${</span>
<span class="go">     ^</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">echo</span> <span class="s1">'${'</span><span class="go"></span>
<span class="go">${</span>
</pre></div>
</div>
<div class="admonition warning inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshにエスケープ文字がないという考えは、bashのバックスラッシュ（\）と同じです。</font></font></p>
</div>
</div>
<div class="section" id="captured-subprocess-with-and">
<h2><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">$()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><a class="headerlink" href="#captured-subprocess-with-and" title="この見出しにパーマリンク"><font style="vertical-align: inherit;">¶を</font></a><font style="vertical-align: inherit;">使ってキャプチャされたサブプロセス</font></font><code class="docutils literal notranslate"><span class="pre">!()</span></code><a class="headerlink" href="#captured-subprocess-with-and" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"></font></a></h2>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">$(&lt;expr&gt;)</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonsh </font><font style="vertical-align: inherit;">の</font><font style="vertical-align: inherit;">演算子は、サブプロセスコマンドを実行し、</font><font style="vertical-align: inherit;">そのコマンドに関する情報</font><font style="vertical-align: inherit;">を
 </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取得し</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></p>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">$()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構文は、キャプチャし、Python文字列として、コマンドの標準出力ストリームを返します。</font><font style="vertical-align: inherit;">これは</font></font><code class="docutils literal notranslate"><span class="pre">$()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Bashでのパフォーマンス</font><font style="vertical-align: inherit;">と似ています</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例えば、</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">$</span><span class="p">(</span><span class="err">ls</span> -l<span class="p">)</span><span class="go"></span>
<span class="go">'total 0\n-rw-rw-r-- 1 snail snail 0 Mar  8 15:46 xonsh\n'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font><code class="docutils literal notranslate"><span class="pre">!()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構文は、呼び出されたクラスのインスタンスとして、コマンドに関する詳細情報を取得しました</font></font><code class="docutils literal notranslate"><span class="pre">CommandPipeline</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このオブジェクトには、戻りコード、プロセスID、標準出力および標準エラー・ストリーム、および入出力のリダイレクト方法に関する情報を含む、指定されたコマンドの結果に関する詳細情報が含まれています。</font><font style="vertical-align: inherit;">例えば：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">!</span><span class="p">(</span><span class="err">ls</span> nonexistent_directory<span class="p">)</span><span class="go"></span>
<span class="go">CommandPipeline(stdin=&lt;_io.BytesIO object at 0x7f1948182bf8&gt;, stdout=&lt;_io.BytesIO object at 0x7f1948182af0&gt;, stderr=&lt;_io.BytesIO object at 0x7f19483a6200&gt;, pid=26968, returncode=2, args=['ls', 'nonexistent_directory'], alias=['ls', '--color=auto', '-v'], stdin_redirect=['&lt;stdin&gt;', 'r'], stdout_redirect=[9, 'wb'], stderr_redirect=[11, 'w'], timestamps=[1485235484.5016758, None], executed_cmd=['ls', '--color=auto', '-v', 'nonexistent_directory'], input=None, output=, errors=None)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このオブジェクトは、戻りコードが0で、戻りコードと等しい（ビア</font></font><code class="docutils literal notranslate"><span class="pre">==</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">場合は "真実"になり
 </font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">それはまた、戻りコードにハッシュします。</font><font style="vertical-align: inherit;">これにより、サブプロセスコマンドとのやりとりの面白い新しい種類の対話が可能になります。たとえば、次のようになります。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">check_file</span><span class="p">(</span><span class="nb">file</span><span class="p">):</span><span class="go"></span>
<span class="go">    if !(test -e @(file)):</span>
<span class="go">        if !(test -f @(file)) or !(test -d @(file)):</span>
<span class="go">            print("File is a regular file or directory")</span>
<span class="go">        else:</span>
<span class="go">            print("File is not a regular file or directory")</span>
<span class="go">    else:</span>
<span class="go">        print("File does not exist")</span>

<span class="go">def wait_until_google_responds():</span>
<span class="go">    while not !(ping -c 1 google.com):</span>
<span class="go">        sleep 1</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">CommandPipeline</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクト</font><font style="vertical-align: inherit;">を反復処理する</font><font style="vertical-align: inherit;">と、出力の行が得られます。</font><font style="vertical-align: inherit;">これを使用すると、コマンドの出力を素早くきれいに処理できます。</font><font style="vertical-align: inherit;">さらに、これらのオブジェクト</font></font><code class="docutils literal notranslate"><span class="pre">itercheck</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、組み込みイテレータと同じように動作</font><font style="vertical-align: inherit;">するメソッドを公開</font><font style="vertical-align: inherit;">しますが</font></font><code class="docutils literal notranslate"><span class="pre">XonshCalledProcessError</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、プロセスにゼロ以外の戻りコードがある場合に</font><font style="vertical-align: inherit;">発生し</font><font style="vertical-align: inherit;">ます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_wireless_interface</span><span class="p">():</span><span class="go"></span>
<span class="go">    """Returns devicename of first connected wifi, None otherwise"""</span>
<span class="go">    for line in !(nmcli device):</span>
<span class="go">        dev, typ, state, conn_name = line.split(None, 3)</span>
<span class="go">        if typ == 'wifi' and state == 'connected':</span>
<span class="go">            return dev</span>

<span class="go">def grep_path(path, regexp):</span>
<span class="go">    """Recursively greps `path` for perl `regexp`</span>

<span class="go">    Returns a dict of 'matches' and 'failures'.</span>
<span class="go">    Matches are files that contain the given regexp.</span>
<span class="go">    Failures are files that couldn't be scanned.</span>
<span class="go">    """</span>
<span class="go">    matches = []</span>
<span class="go">    failures = []</span>

<span class="go">    try:</span>
<span class="go">        for match in !(grep -RPl @(regexp) @(str(path))).itercheck():</span>
<span class="go">            matches.append(match)</span>
<span class="go">    except XonshCalledProcessError as error:</span>
<span class="go">        for line in error.stderr.split('\n'):</span>
<span class="go">            if not line.strip():</span>
<span class="go">                continue</span>
<span class="go">            filename = line.split('grep: ', 1)[1].rsplit(':', 1)[0]</span>
<span class="go">            failures.append(filename)</span>
<span class="go">    return {'matches': matches, 'failures': failures}</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">$()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして</font></font><code class="docutils literal notranslate"><span class="pre">!()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、オペレータは表現そのものです。</font><font style="vertical-align: inherit;">つまり、結果を変数に代入したり、必要な操作を実行したりすることができます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="k">$</span><span class="p">(</span><span class="err">ls</span> -l<span class="p">)</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span><span class="go"></span>
<span class="go">TOTAL 0</span>
<span class="go">-RW-RW-R-- 1 SNAIL SNAIL 0 MAR  8 15:46 XONSH</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="k">!</span><span class="p">(</span><span class="err">ls</span> -l<span class="p">)</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">returncode</span><span class="p">)</span><span class="go"></span>
<span class="go">0</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">rtn</span><span class="p">)</span>  <span class="c1"># alias to returncode</span><span class="go"></span>
<span class="go">0</span>
</pre></div>
</div>
<div class="admonition warning inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キャプチャされたサブプロセスに対してジョブ制御が実装されていません。</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセスモードまたは取得されたサブプロセスの中では、</font></font><code class="docutils literal notranslate"><span class="pre">$NAME</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数や</font></font><code class="docutils literal notranslate"><span class="pre">${}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構文</font><font style="vertical-align: inherit;">を使用して環境を照会することも</font><font style="vertical-align: inherit;">、Pythonの値に</font></font><code class="docutils literal notranslate"><span class="pre">@()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演算子を</font><font style="vertical-align: inherit;">挿入</font><font style="vertical-align: inherit;">することもできます</font><font style="vertical-align: inherit;">。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">$</span><span class="p">(</span><span class="err">echo</span> <span class="nv">$HOME</span><span class="p">)</span><span class="go"></span>
<span class="go">'/home/snail\n'</span>
</pre></div>
</div>
</div>
<div class="section" id="uncaptured-subprocess-with-and">
<h2><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">$[]</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><a class="headerlink" href="#uncaptured-subprocess-with-and" title="この見出しにパーマリンク"><font style="vertical-align: inherit;">¶を</font></a><font style="vertical-align: inherit;">使って未取得のサブプロセス</font></font><code class="docutils literal notranslate"><span class="pre">![]</span></code><a class="headerlink" href="#uncaptured-subprocess-with-and" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キャプチャされていないサブプロセスは、</font></font><code class="docutils literal notranslate"><span class="pre">$[]</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code class="docutils literal notranslate"><span class="pre">![]</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演算子で</font><font style="vertical-align: inherit;">示され</font><font style="vertical-align: inherit;">ます。</font></font><code class="docutils literal notranslate"><span class="pre">$()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ほぼすべての方法で取得さ</font><font style="vertical-align: inherit;">れ</font><font style="vertical-align: inherit;">たサブプロセス</font><font style="vertical-align: inherit;">と同じ</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">唯一の違いは、サブプロセスのstdoutがxonshを直接経由して画面に渡ることです。</font><font style="vertical-align: inherit;">の戻り値</font></font><code class="docutils literal notranslate"><span class="pre">$[]</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は常に</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下では、結果</font></font><code class="docutils literal notranslate"><span class="pre">$[]</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が自動的に出力され、戻り値は文字列ではない</font><font style="vertical-align: inherit;">ことがわかり</font><font style="vertical-align: inherit;">ます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="k">$</span><span class="p">[</span><span class="err">ls</span> -l<span class="p">]</span><span class="go"></span>
<span class="go">total 0</span>
<span class="go">-rw-rw-r-- 1 snail snail 0 Mar  8 15:46 xonsh</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="ow">is</span> <span class="bp">None</span><span class="go"></span>
<span class="go">True</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">![]</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オペレータは同様である</font></font><code class="docutils literal notranslate"><span class="pre">!()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ことが指定されたコマンドの実行結果に関する情報を含むオブジェクトを返すことができます。</font><font style="vertical-align: inherit;">しかし、標準出力ストリームと標準エラーストリームは端末に送られ、その結果のオブジェクトは表示されません。</font><font style="vertical-align: inherit;">例えば</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="k">!</span><span class="p">[</span><span class="err">ls</span> -l<span class="p">]</span> <span class="ow">and</span> <span class="k">!</span><span class="p">[</span><span class="err">echo</span> <span class="s2">"hi"</span><span class="p">]</span><span class="go"></span>
<span class="go">total 0</span>
<span class="go">-rw-rw-r-- 1 snail snail 0 Mar  8 15:46 xonsh</span>
<span class="go">hi</span>
</pre></div>
</div>
</div>
<div class="section" id="python-evaluation-with">
<h2><font style="vertical-align: inherit;"><a class="headerlink" href="#python-evaluation-with" title="この見出しにパーマリンク"><font style="vertical-align: inherit;">¶の</font></a><font style="vertical-align: inherit;"> Python評価</font></font><code class="docutils literal notranslate"><span class="pre">@()</span></code><a class="headerlink" href="#python-evaluation-with" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"></font></a></h2>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">@(&lt;expr&gt;)</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オペレータのフォームは、サブプロセスモードで動作し、任意のPythonコードを評価します。</font><font style="vertical-align: inherit;">結果はサブプロセスコマンドリストに追加されます。</font><font style="vertical-align: inherit;">結果が文字列の場合、引数リストに追加されます。</font><font style="vertical-align: inherit;">結果がリストまたは他の非文字列の場合、内容は文字列に変換され、引数リストに順番に追加されます。</font><font style="vertical-align: inherit;">最初の位置の結果が関数の</font><font style="vertical-align: inherit;">場合、明示的に</font><font style="vertical-align: inherit;">マッピングに</font><font style="vertical-align: inherit;">追加されていなくても</font><font style="vertical-align: inherit;">、エイリアスとして扱われます（</font><font style="vertical-align: inherit;">下の</font></font><a class="reference internal" href="#aliases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別名</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のセクションを参照してください</font><font style="vertical-align: inherit;">）</font></font><code class="docutils literal notranslate"><span class="pre">aliases</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">それ以外の場合、結果は自動的に文字列に変換されます。</font><font style="vertical-align: inherit;">例えば、</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="s1">'xonsh'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">'party'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">echo</span> <span class="k">@</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span><span class="go"></span>
<span class="go">xonsh party</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">echo</span> <span class="k">@</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="go"></span>
<span class="go">4</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">echo</span> <span class="k">@</span><span class="p">([</span><span class="mi">42</span><span class="p">,</span> <span class="s1">'yo'</span><span class="p">])</span><span class="go"></span>
<span class="go">42 yo</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">echo</span> <span class="s2">"hello"</span> <span class="o">|</span> <span class="k">@</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="bp">None</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">+</span> <span class="s2">" world</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span><span class="go"></span>
<span class="go">hello world</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">@</span><span class="p">([</span><span class="s1">'echo'</span><span class="p">,</span> <span class="s1">'hello'</span><span class="p">,</span> <span class="s1">'world'</span><span class="p">])</span><span class="go"></span>
<span class="go">hello world</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">@</span><span class="p">(</span><span class="s1">'echo hello world'</span><span class="p">)</span>  <span class="c1"># note that strings are not split automatically</span><span class="go"></span>
<span class="go">xonsh: subprocess mode: command not found: echo hello world</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この構文は、キャプチャされたサブプロセスまたはキャプチャされていないサブプロセスの内部で使用でき、サブプロセスコマンドリスト内の任意のトークンを生成するために使用できます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="k">$</span><span class="p">(</span><span class="err">echo</span> <span class="k">@</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">y</span><span class="p">))</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">out</span><span class="go"></span>
<span class="go">'xonsh party\n'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">@</span><span class="p">(</span><span class="s2">"ech"</span> <span class="o">+</span> <span class="s2">"o"</span><span class="p">)</span> <span class="s2">"hey"</span><span class="go"></span>
<span class="go">hey</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">したがって、</font></font><code class="docutils literal notranslate"><span class="pre">@()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonモードで複雑なコマンドを作成し、必要に応じてそれらをサブプロセスに送ることができます。</font><font style="vertical-align: inherit;">例えば：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span><span class="go"></span>
<span class="go">    $[touch @('file%02d' % i)]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font><code class="docutils literal notranslate"><span class="pre">@()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構文は、スタンドアロンの引数としてではなく、サブプロセス引数の内部でも使用できます。</font><font style="vertical-align: inherit;">例えば：</font></font></p>
<blockquote>
<div><div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="s1">'hello'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">echo</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="k">@</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="go"></span>
<span class="go">/path/to/hello</span>
</pre></div>
</div>
</div></blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセス引数の内部で使用</font></font><code class="docutils literal notranslate"><span class="pre">&lt;expr&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">され、文字列以外の繰り返し可能</font><font style="vertical-align: inherit;">性を</font><font style="vertical-align: inherit;">評価すると、</font><font style="vertical-align: inherit;">指定</font><font style="vertical-align: inherit;">された</font></font><code class="docutils literal notranslate"><span class="pre">@()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての値の外積に展開されます。</font></font></p>
<blockquote>
<div><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; <span class="nb">echo</span> /path/to/@<span class="o">([</span><span class="s1">'hello'</span>, <span class="s1">'world'</span><span class="o">])</span>
/path/to/hello /path/to/world

&gt;&gt;&gt; <span class="nb">echo</span> @<span class="o">([</span><span class="s1">'a'</span>, <span class="s1">'b'</span><span class="o">])</span>:@<span class="o">(</span><span class="s1">'x'</span>, <span class="s1">'y'</span><span class="o">)</span>
a:x a:y b:x b:y
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="command-substitution-with">
<h2><font style="vertical-align: inherit;"><a class="headerlink" href="#command-substitution-with" title="この見出しにパーマリンク"><font style="vertical-align: inherit;">¶</font></a><font style="vertical-align: inherit;">コマンド置換</font></font><code class="docutils literal notranslate"><span class="pre">@$()</span></code><a class="headerlink" href="#command-substitution-with" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"></font></a></h2>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">@()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code class="docutils literal notranslate"><span class="pre">$()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演算子の</font><font style="vertical-align: inherit;">一般的な使い方は、</font><font style="vertical-align: inherit;">コマンドの出力をコマンド自体に置き換えることです（コマンド置換）
 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Xonshはこの操作のための簡潔な構文を提供します：</font><font style="vertical-align: inherit;">。</font></font><code class="docutils literal notranslate"><span class="pre">@([i.strip()</span> <span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">$(cmd).split()])</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">@$(cmd)</span></code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の例を考えてみましょう。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># this returns a string representing stdout</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">$</span><span class="p">(</span><span class="err">which</span> ls<span class="p">)</span><span class="go"></span>
<span class="go">'ls --color=auto\n'</span>

<span class="gp">&gt;&gt;&gt;</span> <span class="c1"># this attempts to run the command, but as one argument</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="c1"># (looks for 'ls --color=auto\n' with spaces and newline)</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">@</span><span class="p">(</span><span class="k">$</span><span class="p">(</span><span class="err">which</span> ls<span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span><span class="go"></span>
<span class="go">xonsh: subprocess mode: command not found: ls --color=auto</span>

<span class="gp">&gt;&gt;&gt;</span> <span class="c1"># this actually executes the intended command</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">@</span><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="k">$</span><span class="p">(</span><span class="err">which</span> ls<span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()])</span><span class="go"></span>
<span class="go">some_file  some_other_file</span>

<span class="gp">&gt;&gt;&gt;</span> <span class="c1"># this does the same thing, but is much more concise</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">@$</span><span class="p">(</span><span class="err">which</span> ls<span class="p">)</span><span class="go"></span>
<span class="go">some_file  some_other_file</span>
</pre></div>
</div>
</div>
<div class="section" id="nesting-subprocesses">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセスのネスト</font></font><a class="headerlink" href="#nesting-subprocesses" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私はこれを乱用しないように物乞いをしていますが、それは（巣に私たちがこれまで見てきたサブプロセス・オペレーター可能です</font></font><code class="docutils literal notranslate"><span class="pre">$()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code class="docutils literal notranslate"><span class="pre">$[]</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code class="docutils literal notranslate"><span class="pre">${}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><code class="docutils literal notranslate"><span class="pre">@()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code class="docutils literal notranslate"><span class="pre">@$()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">インスタンス</font><font style="vertical-align: inherit;">それは以下の通りです不条理の境の誤った側にあります。</font></font><code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code><font style="vertical-align: inherit;"></font></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;</span>&gt;&gt; $<span class="o">[</span>@<span class="k">$(</span>which @<span class="o">(</span><span class="k">$(</span><span class="nb">echo</span> ls<span class="k">)</span>.strip<span class="o">(</span><span class="k">)</span><span class="o">))</span> @<span class="o">(</span><span class="s1">'-'</span> + <span class="k">$(</span><span class="nb">printf</span> <span class="s1">'l'</span><span class="k">)</span><span class="o">)]</span>
<span class="go">total 0</span>
<span class="go">-rw-rw-r-- 1 snail snail 0 Mar  8 15:46 xonsh</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大きな力をもって、など</font></font></p>
<div class="admonition note inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらのサブプロセス演算子</font><font style="vertical-align: inherit;">
はサブプロセスモードで実行されるため、</font><font style="vertical-align: inherit;">これらのサブプロセス演算子は内部</font></font><code class="docutils literal notranslate"><span class="pre">$()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および/または</font></font><code class="docutils literal notranslate"><span class="pre">$[]</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">動作します。</font><font style="vertical-align: inherit;">以来</font></font><code class="docutils literal notranslate"><span class="pre">@()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code class="docutils literal notranslate"><span class="pre">${}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonのモードでその内容を実行し、それはそれらの内部に巣他のサブプロセス演算子することはできません。</font></font></p>
</div>
</div>
<div class="section" id="pipes">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パイプ</font></font><a class="headerlink" href="#pipes" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセスモードでは、xonshを使用</font></font><code class="docutils literal notranslate"><span class="pre">|</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すると、他のシェルと同じようにコマンドをパイプ</font><font style="vertical-align: inherit;">でつなぐことができます</font><font style="vertical-align: inherit;">。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">env</span> <span class="o">|</span> <span class="n">uniq</span> <span class="o">|</span> <span class="n">sort</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">PATH</span><span class="go"></span>
<span class="go">DATAPATH=/usr/share/MCNPX/v260/Data/</span>
<span class="go">DEFAULTS_PATH=/usr/share/gconf/awesome-gnome.default.path</span>
<span class="go">LD_LIBRARY_PATH=/home/snail/.local/lib:</span>
<span class="go">MANDATORY_PATH=/usr/share/gconf/awesome-gnome.mandatory.path</span>
<span class="go">PATH=/home/snail/.local/bin:/home/snail/sandbox/bin:/usr/local/bin</span>
<span class="go">XDG_SEAT_PATH=/org/freedesktop/DisplayManager/Seat0</span>
<span class="go">XDG_SESSION_PATH=/org/freedesktop/DisplayManager/Session0</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">|</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それ以外の場合はPython演算子である</font><font style="vertical-align: inherit;">ため、これはサブプロセスモードでのみ使用できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">パイプが何であるか分からない場合は、多くの素晴らしい参考文献があります。</font><font style="vertical-align: inherit;">StackOverflowまたはGoogleに関する情報を見つけることができるはずです。</font></font></p>
</div>
<div class="section" id="logical-subprocess-and">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">論理サブプロセスと</font></font><a class="headerlink" href="#logical-subprocess-and" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセスモードでは、</font></font><code class="docutils literal notranslate"><span class="pre">and</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演算子を</font><font style="vertical-align: inherit;">使用し</font><font style="vertical-align: inherit;">てサブプロセスコマンドを連鎖さ</font><font style="vertical-align: inherit;">せることもでき</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">コマンドの真理値は、戻りコードがゼロ（すなわち</font><font style="vertical-align: inherit;">）である</font><font style="vertical-align: inherit;">かどうかで評価され</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">Pythonの場合と同様に、コマンドが評価すると</font><font style="vertical-align: inherit;">、後続のコマンドは実行されません。</font><font style="vertical-align: inherit;">たとえば、存在する場合と存在しない場合があるファイルをリストしたいとします。</font></font><code class="docutils literal notranslate"><span class="pre">proc.returncode</span> <span class="pre">==</span> <span class="pre">0</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">False</span></code><font style="vertical-align: inherit;"></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">touch</span> <span class="n">exists</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span> <span class="n">exists</span> <span class="ow">and</span> <span class="n">ls</span> <span class="n">doesnt</span><span class="go"></span>
<span class="go">exists</span>
<span class="go">/bin/ls: cannot access doesnt: No such file or directory</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ただし、最初に存在しないファイルをリストすると、エラーだけが表示されます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="n">doesnt</span> <span class="ow">and</span> <span class="n">ls</span> <span class="n">exists</span><span class="go"></span>
<span class="go">/bin/ls: cannot access doesnt: No such file or directory</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また、心配しないでください。</font><font style="vertical-align: inherit;">Xonshは</font></font><code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オペレータ</font></font><code class="docutils literal notranslate"><span class="pre">and</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
をあなたのために</font><font style="vertical-align: inherit;">直接翻訳</font><font style="vertical-align: inherit;">します。</font><font style="vertical-align: inherit;">もちろんPythonicは少ないですが、あなたのシェルです！</font></font></p>
</div>
<div class="section" id="logical-subprocess-or">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">論理サブプロセスまたは</font></font><a class="headerlink" href="#logical-subprocess-or" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同様に</font></font><code class="docutils literal notranslate"><span class="pre">and</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code class="docutils literal notranslate"><span class="pre">or</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演算子を</font><font style="vertical-align: inherit;">使用し</font><font style="vertical-align: inherit;">てサブプロセスコマンドを連鎖さ</font><font style="vertical-align: inherit;">せることができ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">違いは、リターンコードがゼロでない（すなわち、失敗した）場合にのみ、後続のコマンドが実行されるということです。</font><font style="vertical-align: inherit;">上のファイルの例を使用して：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="n">exists</span> <span class="ow">or</span> <span class="n">ls</span> <span class="n">doesnt</span><span class="go"></span>
<span class="go">exists</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、存在しないファイルを列挙しようとしません！</font><font style="vertical-align: inherit;">ただし、最初に存在しないファイルをリストすると、エラーが表示され、存在するファイルが表示されます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="n">doesnt</span> <span class="ow">or</span> <span class="n">ls</span> <span class="n">exists</span><span class="go"></span>
<span class="go">/bin/ls: cannot access doesnt: No such file or directory</span>
<span class="go">exists</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">決して恐れるな！</font><font style="vertical-align: inherit;">Xonshも</font></font><code class="docutils literal notranslate"><span class="pre">||</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演算子を</font><font style="vertical-align: inherit;">直接変換し</font></font><code class="docutils literal notranslate"><span class="pre">or</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">あなたの筋肉の記憶は安全です、ここで私たちと一緒に。</font></font></p>
</div>
<div class="section" id="input-output-redirection">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入出力リダイレクト</font></font><a class="headerlink" href="#input-output-redirection" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshはまた、あなたがリダイレクトすることができます</font></font><code class="docutils literal notranslate"><span class="pre">stdin</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code class="docutils literal notranslate"><span class="pre">stdout</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および/または</font></font><code class="docutils literal notranslate"><span class="pre">stderr</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これにより、コマンドの出力先と出力先を制御することができます。</font><font style="vertical-align: inherit;">xonshにはこれらの操作のための独自の構文がありますが、互換性のためにxonshはBashのような構文もサポートしています。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本的な操作は、 "（</font></font><code class="docutils literal notranslate"><span class="pre">&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">への書き込み"、 "（</font><font style="vertical-align: inherit;">）への追記" </font></font><code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、 "からの読み出し"（</font></font><code class="docutils literal notranslate"><span class="pre">&lt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）です。</font><font style="vertical-align: inherit;">これらの詳細は、おそらく例を通して最もよく説明されます。</font></font></p>
<div class="admonition note inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リダイレクションのターゲットは空白で区切る必要があります。そうでなければ、xonshはSyntaxErrorを発生させます。</font></font></p>
</div>
<div class="section" id="redirecting-stdout">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リダイレクト</font></font><code class="docutils literal notranslate"><span class="pre">stdout</span></code><a class="headerlink" href="#redirecting-stdout" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次のすべての例では</font></font><code class="docutils literal notranslate"><span class="pre">COMMAND</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、通常の出力（stdout）を</font><font style="vertical-align: inherit;">実行</font><font style="vertical-align: inherit;">してファイルに書き出し、</font></font><code class="docutils literal notranslate"><span class="pre">output.txt</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存在しない場合は作成します。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMMAND</span> <span class="o">&gt;</span> <span class="n">output</span><span class="o">.</span><span class="n">txt</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="n">out</span><span class="o">&gt;</span> <span class="n">output</span><span class="o">.</span><span class="n">txt</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="n">o</span><span class="o">&gt;</span> <span class="n">output</span><span class="o">.</span><span class="n">txt</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="mi">1</span><span class="o">&gt;</span> <span class="n">output</span><span class="o">.</span><span class="n">txt</span> <span class="c1"># included for Bash compatibility</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これを</font></font><code class="docutils literal notranslate"><span class="pre">output.txt</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">置き換えること</font></font><code class="docutils literal notranslate"><span class="pre">&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">内容を上書き</font><font style="vertical-align: inherit;">するのではなく、ファイル</font><font style="vertical-align: inherit;">を追加する</font><font style="vertical-align: inherit;">ようにする</font><font style="vertical-align: inherit;">ことができます</font></font><code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存在しない場合でもファイルを作成します）。</font></font></p>
</div>
<div class="section" id="redirecting-stderr">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リダイレクト</font></font><code class="docutils literal notranslate"><span class="pre">stderr</span></code><a class="headerlink" href="#redirecting-stderr" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次のすべての例では</font></font><code class="docutils literal notranslate"><span class="pre">COMMAND</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、エラー出力（stderr）が実行され</font></font><code class="docutils literal notranslate"><span class="pre">errors.txt</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">呼び出されたファイルに書き込まれ</font><font style="vertical-align: inherit;">、存在しない場合は作成されます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMMAND</span> <span class="n">err</span><span class="o">&gt;</span> <span class="n">errors</span><span class="o">.</span><span class="n">txt</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="n">e</span><span class="o">&gt;</span> <span class="n">errors</span><span class="o">.</span><span class="n">txt</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="mi">2</span><span class="o">&gt;</span> <span class="n">errors</span><span class="o">.</span><span class="n">txt</span> <span class="c1"># included for Bash compatibility</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上記のように置き換える</font></font><code class="docutils literal notranslate"><span class="pre">&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">、その内容を置き換えるのではなく</font></font><code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、エラー出力が追加され</font></font><code class="docutils literal notranslate"><span class="pre">errors.txt</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></p>
</div>
<div class="section" id="combining-streams">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストリームの結合</font></font><a class="headerlink" href="#combining-streams" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべて</font></font><code class="docutils literal notranslate"><span class="pre">COMMAND</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の出力（通常出力とエラー出力の両方）を同じ場所</font><font style="vertical-align: inherit;">に送ることができ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">次のすべての例では、このタスクを実行します。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMMAND</span> <span class="nb">all</span><span class="o">&gt;</span> <span class="n">combined</span><span class="o">.</span><span class="n">txt</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="n">a</span><span class="o">&gt;</span> <span class="n">combined</span><span class="o">.</span><span class="n">txt</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="o">&amp;&gt;</span> <span class="n">combined</span><span class="o">.</span><span class="n">txt</span> <span class="c1"># included for Bash compatibility</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stderrをstdoutに明示的にマージして、エラーメッセージが通常の出力と同じ場所に報告されるようにすることもできます。</font><font style="vertical-align: inherit;">これは次の構文で行うことができます：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMMAND</span> <span class="n">err</span><span class="o">&gt;</span><span class="n">out</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="n">err</span><span class="o">&gt;</span><span class="n">o</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="n">e</span><span class="o">&gt;</span><span class="n">out</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="n">e</span><span class="o">&gt;</span><span class="n">o</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="mi">2</span><span class="o">&gt;&amp;</span><span class="mi">1</span>  <span class="c1"># included for Bash compatibility</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このマージは、パイプを含む他のリダイレクションと組み合わせることができます（</font><font style="vertical-align: inherit;">上記の</font></font><a class="reference internal" href="#pipes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パイプ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のセクションを参照してください</font><font style="vertical-align: inherit;">）：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMMAND</span> <span class="n">err</span><span class="o">&gt;</span><span class="n">out</span> <span class="o">|</span> <span class="n">COMMAND2</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="n">e</span><span class="o">&gt;</span><span class="n">o</span> <span class="o">&gt;</span> <span class="n">combined</span><span class="o">.</span><span class="n">txt</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この最後の例は、次のものと同等であることに注意する価値があります。 </font></font><code class="docutils literal notranslate"><span class="pre">COMMAND</span> <span class="pre">a&gt;</span> <span class="pre">combined.txt</span></code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同様に、次の構文でstdoutをstderrに送ることもできます：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMMAND</span> <span class="n">out</span><span class="o">&gt;</span><span class="n">err</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="n">out</span><span class="o">&gt;</span><span class="n">e</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="n">o</span><span class="o">&gt;</span><span class="n">err</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="n">o</span><span class="o">&gt;</span><span class="n">e</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">COMMAND</span> <span class="mi">1</span><span class="o">&gt;&amp;</span><span class="mi">2</span>  <span class="c1"># included for Bash compatibility</span><span class="go"></span>
</pre></div>
</div>
</div>
<div class="section" id="redirecting-stdin">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リダイレクト</font></font><code class="docutils literal notranslate"><span class="pre">stdin</span></code><a class="headerlink" href="#redirecting-stdin" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また、コマンドがコマンドラインからではなくファイルからコマンドを読み取るようにすることもできます</font></font><code class="docutils literal notranslate"><span class="pre">stdin</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">次の例は、これを達成する2つの方法を示しています。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMMAND</span> <span class="o">&lt;</span> <span class="nb">input</span><span class="o">.</span><span class="n">txt</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="o">&lt;</span> <span class="nb">input</span><span class="o">.</span><span class="n">txt</span> <span class="n">COMMAND</span><span class="go"></span>
</pre></div>
</div>
</div>
<div class="section" id="combining-i-o-redirects">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I / Oリダイレクトの組み合わせ</font></font><a class="headerlink" href="#combining-i-o-redirects" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらのリダイレクションのすべてを組み合わせることができます。</font><font style="vertical-align: inherit;">以下は、複雑なリダイレクトの一例です。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMMAND1</span> <span class="n">e</span><span class="o">&gt;</span><span class="n">o</span> <span class="o">&lt;</span> <span class="nb">input</span><span class="o">.</span><span class="n">txt</span> <span class="o">|</span> <span class="n">COMMAND2</span> <span class="o">&gt;</span> <span class="n">output</span><span class="o">.</span><span class="n">txt</span> <span class="n">e</span><span class="o">&gt;&gt;</span> <span class="n">errors</span><span class="o">.</span><span class="n">txt</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この行は</font><font style="vertical-align: inherit;">feddの</font></font><code class="docutils literal notranslate"><span class="pre">COMMAND1</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容を</font></font><code class="docutils literal notranslate"><span class="pre">input.txt</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stdin </font><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">実行</font><font style="vertical-align: inherit;">し、</font><font style="vertical-align: inherit;">すべての出力（stdoutとstderr）をパイプし</font></font><code class="docutils literal notranslate"><span class="pre">COMMAND2</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">このコマンドの通常の出力はにリダイレクトされ</font></font><code class="docutils literal notranslate"><span class="pre">output.txt</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、エラー出力が追加され</font></font><code class="docutils literal notranslate"><span class="pre">errors.txt</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></p>
</div>
</div>
<div class="section" id="background-jobs">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックグラウンドジョブ</font></font><a class="headerlink" href="#background-jobs" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常、xonshで実行中のプログラムを起動すると、xonsh自体が一時停止し、そのプログラムが終了するのを待ちます。</font><font style="vertical-align: inherit;">しかし、プログラムが実行されている間に、xonshにコマンドを与え続けることもできます。</font><font style="vertical-align: inherit;">サブプロセスモードで</font></font><code class="docutils literal notranslate"><span class="pre">&amp;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、コマンドの末尾に</font><font style="vertical-align: inherit;">アンパサンド（</font><font style="vertical-align: inherit;">）を</font><font style="vertical-align: inherit;">追加することで、 "バックグラウンドで"（つまり、シェルの使用を継続できるように）プロセスを開始することができ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">バックグラウンドジョブは、グラフィカルユーザーインターフェイスでプログラムを実行する場合に非常に便利です。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下に例を示します</font></font><code class="docutils literal notranslate"><span class="pre">emacs</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">emacs</span> <span class="o">&amp;</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">emacsの起動後、プロンプトが返されることに注意してください。</font></font></p>
</div>
<div class="section" id="job-control">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジョブ制御</font></font><a class="headerlink" href="#job-control" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォアグラウンド（アンパサンドなし）でプログラムを起動すると、そのプログラムの実行を一時停止し、Control-Zを押すことでxonshプロンプトに戻ることができます。</font><font style="vertical-align: inherit;">これにより、端末の制御がxonshに戻され、プログラムはバックグラウンドで一時停止したままになります。</font></font></p>
<div class="admonition note inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Control-Zによるプロセスの中断は、Windowsで実行しているときはまだサポートされていません。</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムのポーズを解除してフォアグラウンドに戻すには、この</font></font><code class="docutils literal notranslate"><span class="pre">fg</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド</font><font style="vertical-align: inherit;">を使用し
 </font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">プログラムをポーズ解除すると、バックグラウンドで続行されます（xonshプロンプトに引き続きアクセスできます）</font></font><code class="docutils literal notranslate"><span class="pre">bg</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。</font><font style="vertical-align: inherit;">この</font><font style="vertical-align: inherit;">コマンド</font><font style="vertical-align: inherit;">を使用できます</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font><code class="docutils literal notranslate"><span class="pre">jobs</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを使用</font><font style="vertical-align: inherit;">して、現在実行中のすべてのジョブのリストを取得できます</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各ジョブには一意の識別子（1から始まり上向き）があります。</font><font style="vertical-align: inherit;">デフォルトでは、</font></font><code class="docutils literal notranslate"><span class="pre">fg</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code class="docutils literal notranslate"><span class="pre">bg</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドは直前に開始されたジョブで動作します。</font><font style="vertical-align: inherit;">適切なIDを指定することで、古いジョブをフォアグラウンドまたはバックグラウンドにすることができます。</font><font style="vertical-align: inherit;">たとえば、</font><font style="vertical-align: inherit;">ID 1のジョブをフォアグラウンドにします。</font><font style="vertical-align: inherit;">さらに、最新のジョブには「+」を指定し、直近の2番目のジョブには「 - 」を指定します。</font></font><code class="docutils literal notranslate"><span class="pre">fg</span> <span class="pre">1</span></code><font style="vertical-align: inherit;"></font></p>
</div>
<div class="section" id="string-literals-in-subprocess-mode">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセスモードでの文字列リテラル</font></font><a class="headerlink" href="#string-literals-in-subprocess-mode" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字列は、サブプロセスモードで特殊文字をエスケープするために使用できます。</font><font style="vertical-align: inherit;">文字列の内容は、単一の引数としてサブプロセスコマンドに直接渡されます。</font><font style="vertical-align: inherit;">だから疑問に思っているときや、ファイル名のためにxonshの構文エラーがあるときは、問題の部分を文字列で囲むだけです。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これの一般的な使用例は、名前にスペースを含むファイルです。</font><font style="vertical-align: inherit;">この嫌な習慣は死ぬことを拒否します。</font><font style="vertical-align: inherit;">「問題はない！」とxonshは言います。「私には文字列があります。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">touch</span> <span class="s2">"sp ace"</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span><span class="go"></span>
<span class="go">total 0</span>
<span class="go">-rw-rw-r-- 1 snail snail 0 Mar  8 17:50 sp ace</span>
<span class="go">-rw-rw-r-- 1 snail snail 0 Mar  8 15:46 xonsh</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトでは、文字列内の環境変数の名前は、その変数の内容に置き換えられます（サブプロセスモードのみ）。</font><font style="vertical-align: inherit;">例えば：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s2">"my home is $HOME"</span><span class="p">)</span><span class="go"></span>
<span class="go">my home is $HOME</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">echo</span> <span class="s2">"my home is $HOME"</span><span class="go"></span>
<span class="go">my home is /home/snail</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定のコマンド内でこの拡張を避けるには、以下の</font></font><code class="docutils literal notranslate"><span class="pre">@()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構文</font><font style="vertical-align: inherit;">を使用して文字列をPythonモードで評価するようにし</font><font style="vertical-align: inherit;">ます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span> <span class="s2">"my home is $HOME"</span><span class="go"></span>
<span class="go">my home is /home/snail</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">echo</span> <span class="k">@</span><span class="p">(</span><span class="s2">"my home is $HOME"</span><span class="p">)</span><span class="go"></span>
<span class="go">my home is $HOME</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また、設定することで、完全に環境変数の展開を無効にすることができます
 </font></font><code class="docutils literal notranslate"><span class="pre">$EXPAND_ENV_VARS</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し</font></font><code class="docutils literal notranslate"><span class="pre">False</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="section" id="filename-globbing-with">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル名展開</font></font><code class="docutils literal notranslate"><span class="pre">*</span></code><a class="headerlink" href="#filename-globbing-with" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">*</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセスモードでは</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">文字を含む</font><font style="vertical-align: inherit;">ファイル名のグロビング</font><font style="vertical-align: inherit;">も許可されます。</font><font style="vertical-align: inherit;">これは単純にPythonのglobモジュールを使っています。</font><font style="vertical-align: inherit;">詳細はこちらをご覧ください。</font><font style="vertical-align: inherit;">一例として、素敵なxonshsの束から始めましょう：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">touch</span> <span class="n">xonsh</span> <span class="n">conch</span> <span class="n">konk</span> <span class="n">quanxh</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span><span class="go"></span>
<span class="go">conch  konk  quanxh  xonsh</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span> <span class="o">*</span><span class="n">h</span><span class="go"></span>
<span class="go">conch  quanxh  xonsh</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span> <span class="o">*</span><span class="n">o</span><span class="o">*</span><span class="go"></span>
<span class="go">conch  konk  xonsh</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乗算は非常に重要なので、これはPythonモードでは利用できません。</font></font></p>
</div>
<div class="section" id="advanced-path-search-with-backticks">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックティックを使った高度なパス検索</font></font><a class="headerlink" href="#advanced-path-search-with-backticks" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshは、Pythonモードとサブプロセスモードの両方で、通常のグロビング以外のパス名を見つける追加の方法を提供します。</font></font></p>
<div class="section" id="regular-expression-globbing">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正規表現グローブ</font></font><a class="headerlink" href="#regular-expression-globbing" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正規のグロブリングがオクタンをもう少し使うことができると感じたことがあるなら、正規表現グロビングがあなたのためのツールです！</font></font><code class="docutils literal notranslate"><span class="pre">`</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用符（</font></font><code class="docutils literal notranslate"><span class="pre">'</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">）の代わりに</font><font style="vertical-align: inherit;">バッククォート（</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を使用する文字列は、</font></font><code class="docutils literal notranslate"><span class="pre">"</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル名と一致する正規表現として解釈されます。</font><font style="vertical-align: inherit;">通常のglobbingと同様に、成功した一致のリストが返されます。</font><font style="vertical-align: inherit;">Pythonモードでは、これは単なる文字列のリストです。</font><font style="vertical-align: inherit;">サブプロセスモードでは、各ファイル名はサブプロセスコマンドの独自の引数になります。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">簡単なファイル名でデモを見てみましょう：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">touch</span> <span class="n">a</span> <span class="n">aa</span> <span class="n">aaa</span> <span class="n">aba</span> <span class="n">abba</span> <span class="n">aab</span> <span class="n">aabb</span> <span class="n">abcba</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span> <span class="sb">`a(a</span><span class="sr">+|</span><span class="sb">b</span><span class="sr">+</span><span class="sb">)a`</span><span class="go"></span>
<span class="go">aaa  aba  abba</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="sb">`a(a</span><span class="sr">+|</span><span class="sb">b</span><span class="sr">+</span><span class="sb">)a`</span><span class="p">)</span><span class="go"></span>
<span class="go">['aaa', 'aba', 'abba']</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="sb">`a(a</span><span class="sr">+|</span><span class="sb">b</span><span class="sr">+</span><span class="sb">)a`</span><span class="p">)</span><span class="go"></span>
<span class="go">3</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この同じ種類の検索は、バッククッキーが先行する場合に実行され</font></font><code class="docutils literal notranslate"><span class="pre">r</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">したがって、次の式は等価です。</font></font><code class="docutils literal notranslate"><span class="pre">`test`</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code class="docutils literal notranslate"><span class="pre">r`test`</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正規表現マッチング以外は、通常のグロビングと同じように機能します。</font><font style="vertical-align: inherit;">詳細について</font></font><code class="docutils literal notranslate"><span class="pre">re</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
は、Python標準ライブラリのモジュール</font><font style="vertical-align: inherit;">のドキュメントを参照してください</font><font style="vertical-align: inherit;">。</font></font></p>
<div class="admonition warning inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xonshでは、バッククォートの意味はBashの意味とは大きく異なります。</font><font style="vertical-align: inherit;">Bashでは、バック</font></font><code class="docutils literal notranslate"><span class="pre">$()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ティックと</font><font style="vertical-align: inherit;">はキャプチャされたサブプロセス（</font><font style="vertical-align: inherit;">Xonshで）</font><font style="vertical-align: inherit;">を実行することを意味します</font><font style="vertical-align: inherit;">。</font></font></p>
</div>
</div>
<div class="section" id="normal-globbing">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常のグローブ</font></font><a class="headerlink" href="#normal-globbing" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセスモードでは、通常のグロビングは特別な構文なしで行われます。</font><font style="vertical-align: inherit;">しかし、バックティック構文には、Pythonモードとサブプロセスモードの両方で利用できる追加機能があります。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regex globbingと同様に、通常のグロビングは次のようにして（Pythonモードまたはサブプロセスモードで）実行できます</font></font><code class="docutils literal notranslate"><span class="pre">g``</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">touch</span> <span class="n">a</span> <span class="n">aa</span> <span class="n">aaa</span> <span class="n">aba</span> <span class="n">abba</span> <span class="n">aab</span> <span class="n">aabb</span> <span class="n">abcba</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">*</span><span class="go"></span>
<span class="go">aab  aabb  aba  abba  abcba</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">ls</span> <span class="sa">g</span><span class="sb">`a</span><span class="sr">*</span><span class="sb">b</span><span class="sr">*</span><span class="sb">`</span><span class="go"></span>
<span class="go">aab  aabb  aba  abba  abcba</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="sa">g</span><span class="sb">`a</span><span class="sr">*</span><span class="sb">b</span><span class="sr">*</span><span class="sb">`</span><span class="p">)</span><span class="go"></span>
<span class="go">['aab', 'aabb', 'abba', 'abcba', 'aba']</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="sa">g</span><span class="sb">`a</span><span class="sr">*</span><span class="sb">b</span><span class="sr">*</span><span class="sb">`</span><span class="p">)</span><span class="go"></span>
<span class="go">5</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-path-searches">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カスタムパスの検索</font></font><a class="headerlink" href="#custom-path-searches" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらに、通常のグロビングと正規表現グロビングでは不十分な場合、xonshでは独自の検索機能を指定することができます。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">検索関数は、その文字列に一致する可能性のあるリストを返す単一の引数（文字列）の関数として定義されます。</font><font style="vertical-align: inherit;">検索機能は、以下の構文でバッククォートとともに使用することができます。</font></font><code class="docutils literal notranslate"><span class="pre">@&lt;name&gt;`test`</span></code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の例は、これらの関数の形式を示しています。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">s</span><span class="p">):</span><span class="gp"></span>
<span class="gp">...</span>     <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nd">@foo</span><span class="sb">`aa`</span><span class="go"></span>
<span class="go">['aa', 'aaa', 'aab', 'aabb']</span>
</pre></div>
</div>
</div>
<div class="section" id="path-output">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パス出力</font></font><a class="headerlink" href="#path-output" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">p</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regexまたはglob backtick </font><font style="vertical-align: inherit;">の</font><font style="vertical-align: inherit;">修飾子を</font><font style="vertical-align: inherit;">使用する</font><font style="vertical-align: inherit;">と、戻り値の型が文字列のリストから</font></font><code class="xref py py-class docutils literal notranslate"><span class="pre">pathlib.Path</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクトの</font><font style="vertical-align: inherit;">リストに変更され</font><font style="vertical-align: inherit;">ます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="sb">`</span><span class="sr">.*</span><span class="sb">`</span><span class="go"></span>
<span class="go">[Path('foo'), Path('bar')]</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">pg</span><span class="sb">`</span><span class="sr">**</span><span class="sb">`</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">is_symlink</span><span class="p">()]</span><span class="go"></span>
<span class="go">[Path('a_link')]</span>
</pre></div>
</div>
</div>
<div class="section" id="path-literals">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パスリテラル</font></font><a class="headerlink" href="#path-literals" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パスオブジェクトは、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p文字列</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構文</font><font style="vertical-align: inherit;">を使用して直接インスタンス化でき</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">パスオブジェクトは</font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">str（）</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">プレーンな文字列に変換され</font><font style="vertical-align: inherit;">、この変換はサブプロセスモードで暗黙的に処理されます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mypath</span> <span class="o">=</span> <span class="n">p</span><span class="s1">'/foo/bar'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">mypath</span><span class="go"></span>
<span class="go">Path('/foo/bar')</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">mypath</span><span class="o">.</span><span class="n">stem</span><span class="go"></span>
<span class="go">'bar'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">echo</span> <span class="k">@</span><span class="p">(</span><span class="n">mypath</span><span class="p">)</span><span class="go"></span>
<span class="go">/foo/bar</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="help-superhelp-with">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヘルプ＆Superhelpで</font></font><code class="docutils literal notranslate"><span class="pre">?</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆</font></font><code class="docutils literal notranslate"><span class="pre">??</span></code><a class="headerlink" href="#help-superhelp-with" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPythonから、xonshは疑問符でオブジェクトを検査することを可能にします。</font></font><code class="docutils literal notranslate"><span class="pre">?</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常のレベルのヘルプを表示するには、</font><font style="vertical-align: inherit;">単一の疑問符（</font><font style="vertical-align: inherit;">）を使用します。</font></font><code class="docutils literal notranslate"><span class="pre">??</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">superhelpと呼ばれるより高いレベルのヘルプを表示するには、</font><font style="vertical-align: inherit;">二重疑問符（</font><font style="vertical-align: inherit;">）を使用します。</font><font style="vertical-align: inherit;">オブジェクトが純粋なPythonで書かれていれば、スーパーヘルプには通常ソースコードが含まれています。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まず、int型のヘルプを見てみましょう。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="k">?</span><span class="go"></span>
<span class="go">Type:            type</span>
<span class="go">String form:     &lt;class 'int'&gt;</span>
<span class="go">Init definition: (self, *args, **kwargs)</span>
<span class="go">Docstring:</span>
<span class="go">int(x=0) -&gt; integer</span>
<span class="go">int(x, base=10) -&gt; integer</span>

<span class="go">Convert a number or string to an integer, or return 0 if no arguments</span>
<span class="go">are given.  If x is a number, return x.__int__().  For floating point</span>
<span class="go">numbers, this truncates towards zero.</span>

<span class="go">If x is not a number or if base is given, then x must be a string,</span>
<span class="go">bytes, or bytearray instance representing an integer literal in the</span>
<span class="go">given base.  The literal can be preceded by '+' or '-' and be surrounded</span>
<span class="go">by whitespace.  The base defaults to 10.  Valid bases are 0 and 2-36.</span>
<span class="go">Base 0 means to interpret the base from the string as an integer literal.</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nb">int</span><span class="p">(</span><span class="s1">'0b100'</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="go"></span>
<span class="go">4</span>
<span class="go">&lt;class 'int'&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで、正規表現グロブを可能にするxonshビルトインのスーパーヘルパーを見てみましょう：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">__xonsh__</span><span class="o">.</span><span class="n">regexsearch</span><span class="k">??</span><span class="go"></span>
<span class="go">Type:         function</span>
<span class="go">String form:  &lt;function regexsearch at 0x7efc8b367d90&gt;</span>
<span class="go">File:         /usr/local/lib/python3.5/dist-packages/xonsh/built_ins.py</span>
<span class="go">Definition:   (s)</span>
<span class="go">Source:</span>
<span class="go">def regexsearch(s):</span>
<span class="go">    s = expand_path(s)</span>
<span class="go">    return reglob(s)</span>


<span class="go">&lt;function xonsh.built_ins.regexsearch&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヘルプとスーパーヘルプの両方が、検査しているオブジェクトを返すことに注意してください。</font><font style="vertical-align: inherit;">これにより、他の操作の内部でヘルプを連鎖させ、オブジェクト階層内で何度もヘルプを尋ねることができます。</font><font style="vertical-align: inherit;">たとえば、dict型とkey（）メソッドの両方のヘルプを同時に取得しましょう：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span><span class="k">?</span><span class="o">.</span><span class="n">keys</span><span class="k">??</span><span class="go"></span>
<span class="go">Type:            type</span>
<span class="go">String form:     &lt;class 'dict'&gt;</span>
<span class="go">Init definition: (self, *args, **kwargs)</span>
<span class="go">Docstring:</span>
<span class="go">dict() -&gt; new empty dictionary</span>
<span class="go">dict(mapping) -&gt; new dictionary initialized from a mapping object's</span>
<span class="go">    (key, value) pairs</span>
<span class="go">dict(iterable) -&gt; new dictionary initialized as if via:</span>
<span class="go">    d = {}</span>
<span class="go">    for k, v in iterable:</span>
<span class="go">        d[k] = v</span>
<span class="go">dict(**kwargs) -&gt; new dictionary initialized with the name=value pairs</span>
<span class="go">    in the keyword argument list.  For example:  dict(one=1, two=2)</span>
<span class="go">Type:        method_descriptor</span>
<span class="go">String form: &lt;method 'keys' of 'dict' objects&gt;</span>
<span class="go">Docstring:   D.keys() -&gt; a set-like object providing a view on D's keys</span>
<span class="go">&lt;method 'keys' of 'dict' objects&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もちろん、サブプロセスコマンドの場合でも、この</font></font><code class="docutils literal notranslate"><span class="pre">man</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド</font><font style="vertical-align: inherit;">を使用し</font><font style="vertical-align: inherit;">ます。</font></font></p>
</div>
<div class="section" id="compile-evaluate-execute">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンパイル、評価、実行</font></font><a class="headerlink" href="#compile-evaluate-execute" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PythonとBashのように、xonshはxonshコードの文字列をコンパイル、評価、実行するための組み込みのフックを提供します。</font><font style="vertical-align: inherit;">ビルトインのPythonで深刻な名前の衝突を持っていることから、この機能を回避するには</font></font><code class="docutils literal notranslate"><span class="pre">compile()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code class="docutils literal notranslate"><span class="pre">eval()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、および</font></font><code class="docutils literal notranslate"><span class="pre">exec()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能、xonshはすべてが「X」を付加当量です。</font><font style="vertical-align: inherit;">だから、xonshコードのためにあなたが使用したい</font></font><code class="docutils literal notranslate"><span class="pre">compilex()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code class="docutils literal notranslate"><span class="pre">evalx()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code class="docutils literal notranslate"><span class="pre">execx()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
機能を。</font><font style="vertical-align: inherit;">これらが何をするのかわからない場合は、おそらくそれらを必要としません。</font></font></p>
</div>
<div class="section" id="aliases">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エイリアス</font></font><a class="headerlink" href="#aliases" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別の重要なxonshビルトインは、</font></font><code class="docutils literal notranslate"><span class="pre">aliases</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マッピングです。</font><font style="vertical-align: inherit;">これは、サブプロセスコマンドの実行方法に影響する辞書のようなものです。</font><font style="vertical-align: inherit;">あなたがBash </font></font><code class="docutils literal notranslate"><span class="pre">alias</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビルトインに</font><font style="vertical-align: inherit;">精通しているなら</font><font style="vertical-align: inherit;">、これは似ています。</font><font style="vertical-align: inherit;">エイリアス・コマンド・マッチングは、サブプロセス・コマンドの最初の要素に対してのみ発生します。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のキーは</font></font><code class="docutils literal notranslate"><span class="pre">aliases</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、サブプロセスモードでコマンドとして動作する文字列です。</font><font style="vertical-align: inherit;">値は文字列のリストです。最初の要素はコマンドで、残りは引数です。</font><font style="vertical-align: inherit;">値を文字列に設定することもできます。文字列には、次の2つのうちのいずれかが実行されます。</font></font></p>
<ol class="arabic simple">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字列がxonsh式の場合、xonshの</font></font><code class="docutils literal notranslate"><span class="pre">Lexer.split()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドで</font><font style="vertical-align: inherit;">自動的にリストに変換され</font><font style="vertical-align: inherit;">ます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字列がより複雑な場合（xonshコードのブロックを表す）、エイリアスは</font></font><code class="docutils literal notranslate"><span class="pre">ExecAlias</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">呼び出し可能なエイリアス</font><font style="vertical-align: inherit;">としてanとして登録され</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">このコードブロックは、エイリアスが実行されるたびに実行されます。</font></font></li>
</ol>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たとえば、次の例では、</font></font><code class="docutils literal notranslate"><span class="pre">git</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バージョンコントロールソフトウェアの</font><font style="vertical-align: inherit;">エイリアスがいくつか作成されています</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">両方のスタイル（文字列と単一文字列のリスト）が表示されます：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">aliases</span><span class="p">[</span><span class="s1">'g'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'git status -sb'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">aliases</span><span class="p">[</span><span class="s1">'gco'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'git checkout'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">aliases</span><span class="p">[</span><span class="s1">'gp'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'git'</span><span class="p">,</span> <span class="s1">'pull'</span><span class="p">]</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あなたが実行した場合</font><font style="vertical-align: inherit;">の効果で上記の別名で、コマンドはに減らすことが</font><font style="vertical-align: inherit;">実行される前に。</font></font><code class="docutils literal notranslate"><span class="pre">gco</span> <span class="pre">feature-fabulous</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">['git',</span> <span class="pre">'checkout',</span> <span class="pre">'feature-fabulous']</span></code><font style="vertical-align: inherit;"></font></p>
<div class="section" id="callable-aliases">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">呼び出し可能なエイリアス</font></font><a class="headerlink" href="#callable-aliases" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後に、エイリアス値が関数（または他の呼び出し可能）である場合、この関数は</font><font style="vertical-align: inherit;">サブプロセスコマンドに行く</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代わり</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">呼び出され</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">そのような関数は、次のシグネチャのいずれかを持つことができます。</font></font></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mycmd0</span><span class="p">():</span>
    <span class="sd">"""This form takes no arguments but may return output or a return code.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="s2">"some output."</span>

<span class="k">def</span> <span class="nf">mycmd1</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">"""This form takes a single argument, args. This is a list of strings</span>
<span class="sd">    representing the arguments to this command. Feel free to parse them</span>
<span class="sd">    however you wish!</span>
<span class="sd">    """</span>
    <span class="c1"># perform some action.</span>
    <span class="k">return</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">mycmd2</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">"""This form takes two arguments. The args list like above, as a well</span>
<span class="sd">    as standard input. stdin will be a file like object that the command</span>
<span class="sd">    can read from, if the user piped input to this command. If no input</span>
<span class="sd">    was provided this will be None.</span>
<span class="sd">    """</span>
    <span class="c1"># do whatever you want! Anything you print to stdout or stderr</span>
    <span class="c1"># will be captured for you automatically. This allows callable</span>
    <span class="c1"># aliases to support piping.</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">'I go to stdout and will be printed or piped'</span><span class="p">)</span>

    <span class="c1"># Note: that you have access to the xonsh</span>
    <span class="c1"># built-ins if you 'import builtins'.  For example, if you need the</span>
    <span class="c1"># environment, you could do to following:</span>
    <span class="kn">import</span> <span class="nn">builtins</span>
    <span class="n">env</span> <span class="o">=</span> <span class="n">builtins</span><span class="o">.</span><span class="n">__xonsh__</span><span class="o">.</span><span class="n">env</span>

    <span class="c1"># The return value of the function can either be None,</span>
    <span class="k">return</span>

    <span class="c1"># a single string representing stdout</span>
    <span class="k">return</span>  <span class="s1">'I am out of here'</span>

    <span class="c1"># or you can build up strings for stdout and stderr and then</span>
    <span class="c1"># return a (stdout, stderr) tuple. Both of these may be</span>
    <span class="c1"># either a str or None. Any results returned like this will be</span>
    <span class="c1"># concatenated with the strings printed elsewhere in the function.</span>
    <span class="n">stdout</span> <span class="o">=</span> <span class="s1">'I commanded'</span>
    <span class="n">stderr</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">return</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span>

    <span class="c1"># Lastly, a 3-tuple return value can be used to include an integer</span>
    <span class="c1"># return code indicating failure (&gt; 0 return code). In the previous</span>
    <span class="c1"># examples the return code would be 0/success.</span>
    <span class="k">return</span> <span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="s2">"I failed"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">mycmd3</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">"""This form has three parameters.  The first two are the same as above.</span>
<span class="sd">    The last argument represents the standard output.  This is a file-like</span>
<span class="sd">    object that the command may write too.</span>
<span class="sd">    """</span>
    <span class="c1"># you can either use stdout</span>
    <span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"Hello, "</span><span class="p">)</span>
    <span class="c1"># or print()!</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Mom!"</span><span class="p">)</span>
    <span class="k">return</span>

<span class="k">def</span> <span class="nf">mycmd4</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">"""The next form of subprocess callables takes all of the</span>
<span class="sd">    arguments shown above as well as the standard error stream.</span>
<span class="sd">    As with stdout, this is a write-only file-like object.</span>
<span class="sd">    """</span>
    <span class="c1"># This form allows "streaming" data to stdout and stderr</span>
    <span class="kn">import</span> <span class="nn">time</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">stdout</span><span class="p">)</span>

    <span class="c1"># In this form, the return value should be a single integer</span>
    <span class="c1"># representing the "return code" of the alias (zero if successful,</span>
    <span class="c1"># non-zero otherwise)</span>
    <span class="k">return</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">mycmd5</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">spec</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">"""This form of subprocess callables takes all of the</span>
<span class="sd">    arguments shown above as well as a subprocess specification</span>
<span class="sd">    SubprocSpec object. This holds many attributes that dictate how</span>
<span class="sd">    the command is being run.  For instance this can be useful for</span>
<span class="sd">    knowing if the process is captured by $() or !().</span>
<span class="sd">    """</span>
    <span class="kn">import</span> <span class="nn">xonsh.proc</span>
    <span class="k">if</span> <span class="n">spec</span><span class="o">.</span><span class="n">captured</span> <span class="ow">in</span> <span class="n">xonsh</span><span class="o">.</span><span class="n">proc</span><span class="o">.</span><span class="n">STDOUT_CAPTURE_KINDS</span><span class="p">:</span>
        <span class="n">end</span> <span class="o">=</span> <span class="s1">''</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">end</span> <span class="o">=</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span>
    <span class="c1"># Now we'll get a newline if the user is at the terminal, and no</span>
    <span class="c1"># newline if we are captured</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">'Hi Mom!'</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">mycmd6</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">spec</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">"""Lastly, the final form of subprocess callables takes a stack argument</span>
<span class="sd">    in addition to the arguments shown above. The stack is a list of</span>
<span class="sd">    FrameInfo namedtuple objects, as described in the standard library</span>
<span class="sd">    inspect module. The stack is computed such the the call site is the</span>
<span class="sd">    first and innermost entry, while the outer frame is the last entry.</span>

<span class="sd">    The stack is only computed if the alias has a "stack" argument.</span>
<span class="sd">    However, the stack is also accessible as "spec.stack".</span>
<span class="sd">    """</span>
    <span class="k">for</span> <span class="n">frame_info</span> <span class="ow">in</span> <span class="n">stack</span><span class="p">:</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">frame_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">'In function '</span> <span class="o">+</span> <span class="n">frame_info</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">'  locals'</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_locals</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">'  globals'</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_globals</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-modifying-and-removing-aliases">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エイリアスの追加、変更、削除</font></font><a class="headerlink" href="#adding-modifying-and-removing-aliases" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">組み込みのマッピングを変更するだけで、存在する別名を動的に変更することができます。</font><font style="vertical-align: inherit;">関数値を使用した例を次に示します。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">_banana</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span><span class="gp"></span>
<span class="gp">...</span>     <span class="k">return</span> <span class="p">(</span><span class="s1">'My spoon is tooo big!'</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">aliases</span><span class="p">[</span><span class="s1">'banana'</span><span class="p">]</span> <span class="o">=</span> <span class="n">_banana</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">banana</span><span class="go"></span>
<span class="go">'My spoon is tooo big!'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エイリアスを再定義するには、単純に新しい関数を割り当てます。ここでは、キーワード引数を持つPythonラムダを使用します：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">aliases</span><span class="p">[</span><span class="s1">'banana'</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="s2">"Banana for scale.</span><span class="se">\n</span><span class="s2">"</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">banana</span><span class="go"></span>
<span class="go">Banana for scale.</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エイリアスを削除するのは、エイリアス辞書からキーを削除するのと同じくらい簡単です。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">aliases</span><span class="p">[</span><span class="s1">'banana'</span><span class="p">]</span><span class="go"></span>
</pre></div>
</div>
<div class="admonition note inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エイリアス関数は、一般に先頭のアンダースコアで定義する必要があります。</font><font style="vertical-align: inherit;">さもなければ、xonshがコマンドを実行するときにPython変数がエイリアスよりも優先されるので、エイリアス自体をシャドウすることができます。</font></font></p>
</div>
</div>
<div class="section" id="anonymous-aliases">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匿名エイリアス</font></font><a class="headerlink" href="#anonymous-aliases" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上で述べたように、このマッピングの外の関数をエイリアスとして扱うことも可能</font></font><code class="docutils literal notranslate"><span class="pre">@()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">例えば：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">@</span><span class="p">(</span><span class="n">_banana</span><span class="p">)</span><span class="go"></span>
<span class="go">'My spoon is tooo big!'</span><span class="gp"></span>
<span class="gp">&gt;&gt;&gt;</span> <span class="n">echo</span> <span class="s2">"hello"</span> <span class="o">|</span> <span class="k">@</span><span class="p">(</span><span class="k">lambda</span> <span class="n">args</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="bp">None</span><span class="p">:</span> <span class="n">stdin</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span> <span class="n">world</span><span class="go"></span>
<span class="go">hello world</span>
</pre></div>
</div>
</div>
<div class="section" id="unthreadable-aliases">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">裂け目のないエイリアス</font></font><a class="headerlink" href="#unthreadable-aliases" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常、呼び出し可能なエイリアスコマンドはバックグラウンドで実行できるように別のスレッドで実行されます。</font><font style="vertical-align: inherit;">しかし、いくつかのエイリアスは、呼び出されたスレッド上で実行される必要があります。</font><font style="vertical-align: inherit;">これは主にデバッガとプロファイラに便利です。</font><font style="vertical-align: inherit;">エイリアスをフォアグラウンドで実行するには、その関数を</font></font><code class="docutils literal notranslate"><span class="pre">xonsh.tools.unthreadable</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デコレータで飾ります。</font></font></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">xonsh.tools</span> <span class="kn">import</span> <span class="n">unthreadable</span>

<span class="nd">@unthreadable</span>
<span class="k">def</span> <span class="nf">_mycmd</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">'In your face!'</span>

<span class="n">aliases</span><span class="p">[</span><span class="s1">'mycmd'</span><span class="p">]</span> <span class="o">=</span> <span class="n">_mycmd</span>
</pre></div>
</div>
</div>
<div class="section" id="uncapturable-aliases">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uncapturableエイリアス</font></font><a class="headerlink" href="#uncapturable-aliases" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また、デフォルトで呼び出し可能なエイリアスは、出力がキャプチャされるように実行されます（代替モードに入らないxonshのほとんどのコマンドのように）。</font><font style="vertical-align: inherit;">ただし、一部のエイリアスでは、代替モードコマンド自体を実行することがあります。</font><font style="vertical-align: inherit;">したがって、呼び出し可能なエイリアスは致命的な結果（tm）なしにキャプチャすることはできません。</font><font style="vertical-align: inherit;">これを防ぐために、呼び出し可能な別名をuncapturableとして宣言することができます。</font><font style="vertical-align: inherit;">これは、テキストエディタ、ポケベルなどを開いたエイリアスに最も役立ちます。</font><font style="vertical-align: inherit;">別名をuncapturableにするには、その関数を</font></font><code class="docutils literal notranslate"><span class="pre">xonsh.tools.uncapturable</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デコレータで飾ります。</font><font style="vertical-align: inherit;">おそらく</font></font><code class="docutils literal notranslate"><span class="pre">unthreadable</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デコレータ</font><font style="vertical-align: inherit;">と組み合わせて使用​​するのが最も良いでしょう</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例えば：</font></font></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>from xonsh.tools import unthreadable, uncapturable

@uncapturable
@unthreadable
def _binvi(args, stdin=None):
    vi -b @(args)  # Edit binary files

aliases['bvi'] = _binvi
</pre></div>
</div>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">@()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonリスト</font></font><code class="docutils literal notranslate"><span class="pre">args</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をサブプロセスコマンド</font><font style="vertical-align: inherit;">に渡す必要があることに</font><font style="vertical-align: inherit;">注意してください</font><font style="vertical-align: inherit;">。</font></font></p>
<hr class="docutils" />
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エイリアスは、xonshがPythonやサブプロセスとシームレスに対話できる強力な方法です。</font></font></p>
<div class="admonition warning inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></p>
<p class="last"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合は</font></font><code class="docutils literal notranslate"><span class="pre">FOREIGN_ALIASES_OVERRIDE</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、環境変数がFalse（デフォルト）をxonshエイリアスを上書きしようとする外国シェルのエイリアスは無視されます。</font><font style="vertical-align: inherit;">この環境変数の設定は、xonshの場合、つまりxonshを開始するプロセスの外側で行う必要があります。</font></font></p>
</div>
</div>
</div>
<div class="section" id="up-down-tab">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上、下、タブ</font></font><a class="headerlink" href="#up-down-tab" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上と下のキーは、IPythonシェルと同じように、行の先頭から一致する履歴を検索します。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タブ補完も存在します。</font><font style="vertical-align: inherit;">デフォルトでは、Python-modeでは、現在の組み込み関数、グローバル変数、ローカル変数、xonsh言語のキーワードと演算子、ファイルとディレクトリ、環境変数名の変数名に基づいて処理を完了できます。</font><font style="vertical-align: inherit;">サブプロセスモードでは</font></font><code class="docutils literal notranslate"><span class="pre">$PATH</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、エイリアスキー</font><font style="vertical-align: inherit;">上の実行可能ファイルの名前と</font><font style="vertical-align: inherit;">、コマンド自体の完全なBash補完を</font><font style="vertical-align: inherit;">追加し</font><font style="vertical-align: inherit;">ます。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshは、タブコンプリータの動作を変更する手段も提供します。</font><font style="vertical-align: inherit;">詳細は、</font></font><a class="reference external" href="tutorial_completers.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タブ補完ページを参照してください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</div>
<div class="section" id="customizing-the-prompt">
<span id="customprompt"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロンプトのカスタマイズ</font></font><a class="headerlink" href="#customizing-the-prompt" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">おそらく環境変数を変更する最も一般的な理由は、変更</font><font style="vertical-align: inherit;">によってプロンプトをカスタマイズすること</font><font style="vertical-align: inherit;">です。</font></font></p>
<div class="admonition note inline-title">
<p class="first admonition-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></p>
<p class="last"><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数が親プロセスから継承されることはないことに</font><font style="vertical-align: inherit;">注意してください</font><font style="vertical-align: inherit;">（その親が外部シェルかxonshのインスタンスかにかかわらず）。</font></font></p>
</div>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数は、文字列であってもよく、またはそれは、文字列を返す（引数なしの）関数であることができます。</font><font style="vertical-align: inherit;">結果には、自動的に置き換えられるキーワード引数を含めることができます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nv">$PROMPT</span> <span class="o">=</span> <span class="s1">'{user}@{hostname}:{cwd} &gt; '</span><span class="go"></span>
<span class="go">snail@home:~ &gt; # it works!</span>
<span class="go">snail@home:~ &gt; $PROMPT = lambda: '{user}@{hostname}:{cwd} &gt;&gt; '</span>
<span class="go">snail@home:~ &gt;&gt; # so does that!</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトでは、次の変数を使用できます。</font></font></p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">user</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：現在のユーザのユーザ名</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">hostname</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：ホストコンピュータの名前</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">cwd</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：現在の作業ディレクトリ</font></font><code class="docutils literal notranslate"><span class="pre">$DYNAMIC_CWD_WIDTH</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。この変数の最大幅</font></font><code class="docutils literal notranslate"><span class="pre">$DYNAMIC_CWD_ELISION_CHAR</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を設定し、短縮パスで使用される文字を設定するために使用できます。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">short_cwd</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：短縮された形式の現在の作業ディレクトリ。</font><font style="vertical-align: inherit;">例えば、
 </font></font><code class="docutils literal notranslate"><span class="pre">/path/to/xonsh</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">となり</font></font><code class="docutils literal notranslate"><span class="pre">/p/t/xonsh</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">cwd_dir</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：例えば現在の作業ディレクトリのdirnameは、</font></font><code class="docutils literal notranslate"><span class="pre">/path/to</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で
 </font></font><code class="docutils literal notranslate"><span class="pre">/path/to/xonsh</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">cwd_base</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：例えば現在の作業ディレクトリのベース名</font></font><code class="docutils literal notranslate"><span class="pre">xonsh</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に
 </font></font><code class="docutils literal notranslate"><span class="pre">/path/to/xonsh</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">env_name</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：アクティブな仮想環境の名前（存在する場合）。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">curr_branch</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：現在のgitブランチの名前（存在する場合）。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">branch_color</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><code class="docutils literal notranslate"><span class="pre">{BOLD_GREEN}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在のgitブランチがクリーンであれば、そうでなければ</font></font><code class="docutils literal notranslate"><span class="pre">{BOLD_RED}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ブランチ色を判別できなかった場合は黄色です。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">branch_bg_color</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：のように</font></font><code class="docutils literal notranslate"><span class="pre">{branch_color}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、代わりに背景色を設定します。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">prompt_end</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><code class="docutils literal notranslate"><span class="pre">#</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーにroot / admin権限がある</font></font><code class="docutils literal notranslate"><span class="pre">$</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">current_job</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：フォアグラウンドで現在実行されているコマンドの名前（存在する場合）。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">vte_new_tab_cwd</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：いくつかのLinux端末の現在の作業ディレクトリに新しいタブを開くVTEエスケープシーケンスを発行します。</font><font style="vertical-align: inherit;">これは通常は必要ありません。</font></font></li>
<li><code class="docutils literal notranslate"><span class="pre">gitstatus</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：参考gitのステータスは、のように</font></font><code class="docutils literal notranslate"><span class="pre">[master|MERGING|+1…2]</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、あなたが使用することができます</font></font><a class="reference external" href="envvars.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* $ XONSH_GITSTATUS_を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スタイリングをカスタマイズします。</font></font></li>
</ul>
</div></blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また、</font></font><code class="docutils literal notranslate"><span class="pre">{GREEN}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
またはの</font><font style="vertical-align: inherit;">ようなキーワードを挿入することで簡単にプロンプ​​トの色を付けることもできます</font></font><code class="docutils literal notranslate"><span class="pre">{BOLD_BLUE}</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">色は以下のような形をしています：</font></font></p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">NO_COLOR</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：以前に使用したカラーコードをリセットします。</font></font></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">COLORNAME</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：次の基本的な色のカラーコードを挿入します。これは、規則的な（濃い）色と強い（明るい）</font></font></p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">BLACK</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> または </font></font><code class="docutils literal notranslate"><span class="pre">INTENSE_BLACK</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">RED</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> または </font></font><code class="docutils literal notranslate"><span class="pre">INTENSE_RED</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">GREEN</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> または </font></font><code class="docutils literal notranslate"><span class="pre">INTENSE_GREEN</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">YELLOW</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> または </font></font><code class="docutils literal notranslate"><span class="pre">INTENSE_YELLOW</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">BLUE</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> または </font></font><code class="docutils literal notranslate"><span class="pre">INTENSE_BLUE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PURPLE</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> または </font></font><code class="docutils literal notranslate"><span class="pre">INTENSE_PURPLE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CYAN</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> または </font></font><code class="docutils literal notranslate"><span class="pre">INTENSE_CYAN</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">WHITE</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> または </font></font><code class="docutils literal notranslate"><span class="pre">INTENSE_WHITE</span></code></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">#HEX</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><code class="docutils literal notranslate"><span class="pre">#</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">len-3またはlen-6の16進コード</font><font style="vertical-align: inherit;">の</font><font style="vertical-align: inherit;">前の</font><font style="vertical-align: inherit;">A </font><font style="vertical-align: inherit;">は、その16進数の色、またはシェルとターミナルでサポートされている最も近い近似を使用します。</font><font style="vertical-align: inherit;">たとえば、</font></font><code class="docutils literal notranslate"><span class="pre">#fff</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code class="docutils literal notranslate"><span class="pre">#fafad2</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はどちらも有効です。</font></font></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">BACKGROUND_</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景色を設定するために、色名または16進数の先頭に追加することができます。</font><font style="vertical-align: inherit;">例えば、</font></font><code class="docutils literal notranslate"><span class="pre">BACKGROUND_INTENSE_RED</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
との</font></font><code class="docutils literal notranslate"><span class="pre">BACKGROUND_#123456</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">両方を使用することができます。</font></font></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">bg#HEX</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><code class="docutils literal notranslate"><span class="pre">BG#HEX</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、背景の16進色を設定するためのショートカットです。</font><font style="vertical-align: inherit;">したがって</font></font><code class="docutils literal notranslate"><span class="pre">bg#0012ab</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、大文字のバージョンを</font><font style="vertical-align: inherit;">設定することができ</font><font style="vertical-align: inherit;">ます。</font></font></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">BOLD_</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意のフォアグラウンドカラーで使用できる接頭辞修飾子です。</font><font style="vertical-align: inherit;">例えば、</font></font><code class="docutils literal notranslate"><span class="pre">BOLD_RED</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして</font></font><code class="docutils literal notranslate"><span class="pre">BOLD_#112233</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OKです！</font></font></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">UNDERLINE_</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意のフォアグラウンドカラーでも使用できる接頭辞修飾子です。</font><font style="vertical-align: inherit;">たとえば、</font></font><code class="docutils literal notranslate"><span class="pre">UNDERLINE_GREEN</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</li>
<li><p class="first"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または、</font></font><code class="docutils literal notranslate"><span class="pre">BOLD_UNDERLINE_INTENSE_BLACK</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あなたが使用できる最もメタル色の</font><font style="vertical-align: inherit;">ような修飾子の組み合わせ
 </font><font style="vertical-align: inherit;">？</font></font></p>
</li>
</ul>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">PROMPT_FIELDS</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境変数に</font><font style="vertical-align: inherit;">追加することで、これら以外の追加変数を使用することができ
 </font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">この辞書の値は、文字列（プロンプトに挿入される）または引数のない関数（プロンプトが生成されるたびに呼び出され、それらの呼び出しの結果がプロンプトに挿入される）でなければなりません。</font><font style="vertical-align: inherit;">例えば：</font></font></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">snail@home ~ $</span> <span class="nv">$PROMPT_FIELDS</span><span class="o">[</span><span class="s1">'test'</span><span class="o">]</span> <span class="o">=</span> <span class="s2">"hey"</span>
<span class="gp">snail@home ~ $</span> <span class="nv">$PROMPT</span> <span class="o">=</span> <span class="s2">"{test} {cwd} </span>$<span class="s2"> "</span>
<span class="go">hey ~ $</span>
<span class="go">hey ~ $ import random</span>
<span class="go">hey ~ $ $PROMPT_FIELDS['test'] = lambda: random.randint(1,9)</span>
<span class="go">3 ~ $</span>
<span class="go">5 ~ $</span>
<span class="go">2 ~ $</span>
<span class="go">8 ~ $</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境変数と関数も</font></font><code class="docutils literal notranslate"><span class="pre">$</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接頭辞</font><font style="vertical-align: inherit;">とともに使用でき</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">例えば：</font></font></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">snail@home ~ $</span> <span class="nv">$PROMPT</span> <span class="o">=</span> <span class="s2">"{</span><span class="nv">$LANG</span><span class="s2">} &gt;"</span>
<span class="go">en_US.utf8 &gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いくつかのエントリは</font></font><code class="docutils literal notranslate"><span class="pre">$PROMPT_FIELDS</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必ずしも適用可能ではない</font><font style="vertical-align: inherit;">ことに注意してください。</font><font style="vertical-align: inherit;">たとえば、</font><font style="vertical-align: inherit;">現在のディレクトリがリポジトリに存在しない場合は</font><font style="vertical-align: inherit;">、</font></font><code class="docutils literal notranslate"><span class="pre">curr_branch</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">戻り</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">これ</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は空の文字列として解釈されます。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">しかし、問題を考えてみましょう：</font></font></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">snail@home ~/xonsh $</span> <span class="nv">$PROMPT</span> <span class="o">=</span> <span class="s2">"{cwd_base} [{curr_branch}] </span>$<span class="s2"> "</span>
<span class="go">xonsh [master] $ cd ..</span>
<span class="go">~ [] $</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちはブランチを角括弧で表示したいが、ブランチがないときは角括弧（と余分なスペース）を表示したくない。</font><font style="vertical-align: inherit;">解決策は、値が以下の場合にのみ呼び出されるネスト形式の文字列（コロンで区切られた）を追加することです</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">snail@home ~/xonsh $</span> <span class="nv">$PROMPT</span> <span class="o">=</span> <span class="s2">"{cwd_base}{curr_branch: [{}]} </span>$<span class="s2"> "</span>
<span class="go">xonsh [master] $ cd ..</span>
<span class="go">~ $</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中括弧はプレースホルダとして機能します。追加部分は通常の書式文字列です。</font><font style="vertical-align: inherit;">ここでやっていることは、次の表現と同じです：</font></font></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">" [{}]"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">curr_branch</span><span class="p">())</span> <span class="k">if</span> <span class="n">curr_branch</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="k">else</span> <span class="s2">""</span>
</pre></div>
</div>
</div>
<div class="section" id="executing-commands-and-scripts">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドとスクリプトの実行</font></font><a class="headerlink" href="#executing-commands-and-scripts" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で開始すると</font></font><code class="docutils literal notranslate"><span class="pre">-c</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フラグやコマンド、xonshではなく、コマンドループを入力すると、そのコマンドと終了を実行します。</font></font></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> xonsh -c <span class="s2">"echo @(7+3)"</span>
<span class="go">10</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">より長いスクリプトは、スクリプトを含むファイル名を指定するか、stdin経由でxonshに渡すことで実行できます。</font><font style="vertical-align: inherit;">たとえば、次のスクリプトが格納されているとし</font></font><code class="docutils literal notranslate"><span class="pre">test.xsh</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env xonsh</span><span class="go"></span>

<span class="go">ls</span>

<span class="go">print('removing files')</span>
<span class="go">rm `file\d+.txt`</span>

<span class="go">ls</span>

<span class="go">print('adding files')</span>
<span class="go"># This is a comment</span>
<span class="go">for i, x in enumerate("xonsh"):</span>
<span class="go">    echo @(x) &gt; @("file{0}.txt".format(i))</span>

<span class="go">print($(ls).replace('\n', ' '))</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このスクリプトは、その内容をxonshにパイプすることで実行できます。</font></font></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> cat test.xsh <span class="p">|</span> xonsh
<span class="go">file0.txt  file1.txt  file2.txt  file3.txt  file4.txt  test_script.sh</span>
<span class="go">removing files</span>
<span class="go">test_script.sh</span>
<span class="go">adding files</span>
<span class="go">file0.txt file1.txt file2.txt file3.txt file4.txt test_script.sh</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル名を引数としてxonshを呼び出すことによって、</font></font></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> xonsh test.xsh
<span class="go">file0.txt  file1.txt  file2.txt  file3.txt  file4.txt  test_script.sh</span>
<span class="go">removing files</span>
<span class="go">test_script.sh</span>
<span class="go">adding files</span>
<span class="go">file0.txt file1.txt file2.txt file3.txt file4.txt test_script.sh</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshスクリプトは、コマンドライン引数とパラメータも受け入れることができます。</font><font style="vertical-align: inherit;">これらの引数は、次の2つの方法でスクリプトで使用できます。</font></font></p>
<ol class="arabic simple">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いずれのモードにおいても、個々の変数</font></font><code class="docutils literal notranslate"><span class="pre">$ARG&lt;n&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（例えば、</font></font><code class="docutils literal notranslate"><span class="pre">$ARG1</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">として</font><font style="vertical-align: inherit;">、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonモードでのみ、リストとして </font></font><code class="docutils literal notranslate"><span class="pre">$ARGS</span></code></li>
</ol>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たとえば、上の例のスクリプトが、文字列ではなく、与えられた引数で動作するように少し変更したとします</font></font><code class="docutils literal notranslate"><span class="pre">'xonsh'</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（how
 </font></font><code class="docutils literal notranslate"><span class="pre">$ARGS</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code class="docutils literal notranslate"><span class="pre">$ARG1</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が使用されています）。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env xonsh</span><span class="go"></span>

<span class="go">print($ARGS)</span>

<span class="go">ls</span>

<span class="go">print('removing files')</span>
<span class="go">rm `file\d+.txt`</span>

<span class="go">ls</span>

<span class="go">print('adding files')</span>
<span class="go"># This is a comment</span>
<span class="go">for i, x in enumerate($ARG1):</span>
<span class="go">    echo @(x) &gt; @("file{0}.txt".format(i))</span>

<span class="go">print($(ls).replace('\n', ' '))</span>
<span class="go">print()</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> xonsh test2.xsh snails
<span class="go">['test_script.sh', 'snails']</span>
<span class="go">file0.txt  file1.txt  file2.txt  file3.txt  file4.txt  file5.txt  test_script.sh</span>
<span class="go">removing files</span>
<span class="go">test_script.sh</span>
<span class="go">adding files</span>
<span class="go">file0.txt file1.txt file2.txt file3.txt file4.txt file5.txt test_script.sh</span>

<span class="gp">$</span> <span class="nb">echo</span> @<span class="o">(</span><span class="s1">' '</span>.join<span class="o">(</span><span class="k">$(</span>cat @<span class="o">(</span><span class="s1">'file%d.txt'</span> % i<span class="k">)</span><span class="o">)</span>.strip<span class="o">()</span> <span class="k">for</span> i in range<span class="o">(</span><span class="m">6</span><span class="o">)))</span>
<span class="go">s n a i l s</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらに、コマンドが失敗した場合にスクリプトを終了する必要がある場合は、環境変数</font><font style="vertical-align: inherit;">をファイルの先頭に設定します。</font><font style="vertical-align: inherit;">Pythonモードのエラーは既に例外を発生させるので、これはBashのものとほぼ同じ</font><font style="vertical-align: inherit;">です。</font></font><code class="docutils literal notranslate"><span class="pre">$RAISE_SUBPROC_ERROR</span> <span class="pre">=</span> <span class="pre">True</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">-e</span></code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらに、</font><font style="vertical-align: inherit;">and </font><font style="vertical-align: inherit;">コマンドを使用</font><font style="vertical-align: inherit;">してソースコード行を表示する機能を切り替えることもでき
 </font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">これは、Bash </font><font style="vertical-align: inherit;">やPythonの</font><font style="vertical-align: inherit;">ものとほぼ同じ</font><font style="vertical-align: inherit;">ですが、わかります。</font></font><code class="docutils literal notranslate"><span class="pre">trace</span> <span class="pre">on</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">trace</span> <span class="pre">off</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">-x</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">trace</span></code><font style="vertical-align: inherit;"></font></p>
</div>
<div class="section" id="importing-xonsh-xsh">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xonsh（</font></font><code class="docutils literal notranslate"><span class="pre">*.xsh</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）の</font><font style="vertical-align: inherit;">インポート</font></font><a class="headerlink" href="#importing-xonsh-xsh" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">*.xsh</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常のPython構文を使用</font><font style="vertical-align: inherit;">して、</font><font style="vertical-align: inherit;">ファイル拡張子を</font><font style="vertical-align: inherit;">持つxonshソースファイルをインポートでき</font><font style="vertical-align: inherit;">ます。</font></font><code class="docutils literal notranslate"><span class="pre">mine.xsh</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">したがって、あなたは</font><font style="vertical-align: inherit;">ファイルを持っていたとします</font><font style="vertical-align: inherit;">。したがって、次のようにして現在のシェルにBashのようなソースを実行することができます：</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mine</span> <span class="kn">import</span> <span class="o">*</span><span class="go"></span>
</pre></div>
</div>
</div>
<div class="section" id="that-s-all-folks">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、すべての人々だ</font></font><a class="headerlink" href="#that-s-all-folks" title="この見出しにパーマリンク"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshを出るには、ヒットするか</font></font><code class="docutils literal notranslate"><span class="pre">Ctrl-D</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、タイプするか</font></font><code class="docutils literal notranslate"><span class="pre">EOF</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、タイプ</font></font><code class="docutils literal notranslate"><span class="pre">quit</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するか、タイプし</font></font><code class="docutils literal notranslate"><span class="pre">exit</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">Windowsでは、入力することもできます</font></font><code class="docutils literal notranslate"><span class="pre">Ctrl-Z</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">exit</span><span class="go"></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今はあなたの番です。</font></font></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="sidebar.html" title="サイドバー">
          <img class="logo" src="_static/ascii_conch_part_transparent_tight.png" alt="ロゴ" />
        </a></p><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="sidebar.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページの内容</font></font></a></h3>
    <ul>
<li><a class="reference internal" href="#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チュートリアル</font></font></a><ul>
<li><a class="reference internal" href="#starting-xonsh"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshの起動</font></font></a></li>
<li><a class="reference internal" href="#basics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本</font></font></a></li>
<li><a class="reference internal" href="#environment-variables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境変数</font></font></a><ul>
<li><a class="reference internal" href="#the-environment-itself"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境そのもの </font></font><code class="docutils literal notranslate"><span class="pre">${...}</span></code></a></li>
<li><a class="reference internal" href="#environment-lookup-with-expr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境ルックアップ </font></font><code class="docutils literal notranslate"><span class="pre">${&lt;expr&gt;}</span></code></a></li>
<li><a class="reference internal" href="#environment-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境タイプ</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行コマンド</font></font></a></li>
<li><a class="reference internal" href="#python-mode-vs-subprocess-mode"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonモードとサブプロセスモード</font></font></a></li>
<li><a class="reference internal" href="#quoting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用</font></font></a></li>
<li><a class="reference internal" href="#captured-subprocess-with-and"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キャプチャされたサブプロセス</font></font><code class="docutils literal notranslate"><span class="pre">$()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code class="docutils literal notranslate"><span class="pre">!()</span></code></a></li>
<li><a class="reference internal" href="#uncaptured-subprocess-with-and"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未キャプチャサブプロセス</font></font><code class="docutils literal notranslate"><span class="pre">$[]</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code class="docutils literal notranslate"><span class="pre">![]</span></code></a></li>
<li><a class="reference internal" href="#python-evaluation-with"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonによる評価 </font></font><code class="docutils literal notranslate"><span class="pre">@()</span></code></a></li>
<li><a class="reference internal" href="#command-substitution-with"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド置換 </font></font><code class="docutils literal notranslate"><span class="pre">@$()</span></code></a></li>
<li><a class="reference internal" href="#nesting-subprocesses"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセスのネスト</font></font></a></li>
<li><a class="reference internal" href="#pipes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パイプ</font></font></a></li>
<li><a class="reference internal" href="#logical-subprocess-and"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">論理サブプロセス</font></font></a></li>
<li><a class="reference internal" href="#logical-subprocess-or"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">論理サブプロセスまたは</font></font></a></li>
<li><a class="reference internal" href="#input-output-redirection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入出力リダイレクション</font></font></a><ul>
<li><a class="reference internal" href="#redirecting-stdout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リダイレクト </font></font><code class="docutils literal notranslate"><span class="pre">stdout</span></code></a></li>
<li><a class="reference internal" href="#redirecting-stderr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リダイレクト </font></font><code class="docutils literal notranslate"><span class="pre">stderr</span></code></a></li>
<li><a class="reference internal" href="#combining-streams"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストリームの結合</font></font></a></li>
<li><a class="reference internal" href="#redirecting-stdin"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リダイレクト </font></font><code class="docutils literal notranslate"><span class="pre">stdin</span></code></a></li>
<li><a class="reference internal" href="#combining-i-o-redirects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I / Oリダイレクトの結合</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="#background-jobs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックグラウンドジョブ</font></font></a></li>
<li><a class="reference internal" href="#job-control"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジョブ制御</font></font></a></li>
<li><a class="reference internal" href="#string-literals-in-subprocess-mode"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブプロセスモードでの文字列リテラル</font></font></a></li>
<li><a class="reference internal" href="#filename-globbing-with"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル名 </font></font><code class="docutils literal notranslate"><span class="pre">*</span></code></a></li>
<li><a class="reference internal" href="#advanced-path-search-with-backticks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックティックを使った高度なパス検索</font></font></a><ul>
<li><a class="reference internal" href="#regular-expression-globbing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正規表現グローブ</font></font></a></li>
<li><a class="reference internal" href="#normal-globbing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常のグローブ</font></font></a></li>
<li><a class="reference internal" href="#custom-path-searches"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カスタムパス検索</font></font></a></li>
<li><a class="reference internal" href="#path-output"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パス出力</font></font></a></li>
<li><a class="reference internal" href="#path-literals"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パスリテラル</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="#help-superhelp-with"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヘルプ＆Superhelp </font></font><code class="docutils literal notranslate"><span class="pre">?</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆</font></font><code class="docutils literal notranslate"><span class="pre">??</span></code></a></li>
<li><a class="reference internal" href="#compile-evaluate-execute"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンパイル、評価、実行</font></font></a></li>
<li><a class="reference internal" href="#aliases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エイリアス</font></font></a><ul>
<li><a class="reference internal" href="#callable-aliases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">呼び出し可能エイリアス</font></font></a></li>
<li><a class="reference internal" href="#adding-modifying-and-removing-aliases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エイリアスの追加、変更、および削除</font></font></a></li>
<li><a class="reference internal" href="#anonymous-aliases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匿名エイリアス</font></font></a></li>
<li><a class="reference internal" href="#unthreadable-aliases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解読不能エイリアス</font></font></a></li>
<li><a class="reference internal" href="#uncapturable-aliases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uncapturableエイリアス</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="#up-down-tab"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上、下、タブ</font></font></a></li>
<li><a class="reference internal" href="#customizing-the-prompt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロンプトのカスタマイズ</font></font></a></li>
<li><a class="reference internal" href="#executing-commands-and-scripts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドとスクリプトの実行</font></font></a></li>
<li><a class="reference internal" href="#importing-xonsh-xsh"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xonsh（</font></font><code class="docutils literal notranslate"><span class="pre">*.xsh</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を</font><font style="vertical-align: inherit;">インポートする</font></font></a></li>
<li><a class="reference internal" href="#that-s-all-folks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それはすべて、人々</font></font></a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前のページ</font></font></h4>
    <p class="topless"><a href="quotes.html" title="前のページ"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">←引用</font></font></a></p>
  </div>
  <div class="sphinxnext">
    <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次のページ</font></font></h4>
    <p class="topless"><a href="tutorial_hist.html" title="次のページ"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→チュートリアル：履歴</font></font></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このページ</font></font></h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tutorial.rst.txt" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースを表示</font></font></a></li>
    </ul>
   </div>
<div id="searchbox" style="" role="search">
  <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クイック検索</font></font></h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><input type="submit" value="行こう" /></font></font>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="サイドバーメニューを非表示にする"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                 «
                </font></font><span class="show-for-small"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メニューを隠す</font></font></span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="サイドバーメニューを表示する" style="display: none;">
                
                <span class="show-for-small"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メニューの</font></font></span>
                <span class="hide-for-small"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイドバー</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                 »
            </font></font></button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ナビゲーション</font></font></h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="一般索引"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引</font></font></a></li>
        <li class="right">
          <a href="py-modindex.html" title="Pythonモジュールのインデックス"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール</font></font></a>    </li>
        <li class="right">
          <a href="tutorial_hist.html" title="チュートリアル：履歴"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次</font></font></a>    </li>
        <li class="right">
          <a href="quotes.html" title="引用"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前</font></font></a>    </li>
    <li><a href="sidebar.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonsh 0.8.5 documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li>

          <li class="nav-item nav-item-1"><a href="index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xonshシェル</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        ©Copyright 2015、Anthony Scopatz。</font></font><a href="http://sphinx-doc.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sphinx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1.8.2 </font><font style="vertical-align: inherit;">を使用して作成されました</font><font style="vertical-align: inherit;">。
    </font></font></div>
    <!-- cloud_sptheme 1.4 -->
  
<div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="https://www.gstatic.com/images/branding/product/1x/translate_24dp.png" width="20" height="20" alt="Google 翻訳" /></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">翻訳を改善する</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;" /><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div><div class="hide-for-small"></div><div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"/></svg></div></div></body></html>
